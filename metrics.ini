[Global]
FallbackTheme=_fallback

[Common]
AutoSetStyle=false
InitialScreen=isEtterna() and "ScreenTitleMenu" or "ScreenCompany"
MaxCourseEntriesBeforeShowVarious=99999
ImageCache="Banner"
NoteDataLimit=4294967296

[GameState]
AllowLateJoin=false
GradeTierForExtra1="Grade_Tier07"
GradeTierForExtra2="Grade_Tier04"

[SongManager]
NumSongGroupColors=1
SongGroupColor1=color("#FFFFFF")
NumCourseGroupColors=1
CourseGroupColor1=color("1,1,1,1")

ExtraStagePlayerModifiers=""
ExtraStageStageModifiers="failimmediate,norecover"
OMESPlayerModifiers=""
OMESStageModifiers="failimmediate,suddendeath"

[Course]
SortLevel1Color=color("1,1,1,1")
SortLevel2Color=color("1,1,1,1")
SortLevel3Color=color("1,1,1,1")
SortLevel4Color=color("1,1,1,1")
SortLevel5Color=color("1,1,1,1")

[PlayerStageStats]
NumGradeTiersUsed=18
GradeTier01IsAllW2s=false
GradeTier02IsAllW2s=false
# -- quad star
GradePercentTier01=1.00
# -- triple star
GradePercentTier02=0.99
# -- double star
GradePercentTier03=0.98
# -- single star
GradePercentTier04=0.96
# -- S+
GradePercentTier05=0.94
# -- S
GradePercentTier06=0.92
# -- S-
GradePercentTier07=0.89
# -- A+
GradePercentTier08=0.86
# -- A
GradePercentTier09=0.83
# -- A-
GradePercentTier10=0.80
# -- B+
GradePercentTier11=0.76
# -- B
GradePercentTier12=0.72
# -- B-
GradePercentTier13=0.68
# -- C+
GradePercentTier14=0.64
# -- C
GradePercentTier15=0.60
# -- C-
GradePercentTier16=0.55
# -- D+
GradePercentTier17=0.50
# -- D
GradePercentTier18=-1000

[RollingNumbers]
Commify=false
DiffuseLeadingZeroes=false

[RollingNumbersCalories]
Fallback="RollingNumbers"
TextFormat="%5.2fc"
ApproachSeconds=0.01666

[RollingNumbersWorkoutEvaluation]
Fallback="RollingNumbers"
TextFormat="%04.2f"
ApproachSeconds=0.01666

[RollingNumbersMaxCombo]
Fallback="RollingNumbersJudgment"
TextFormat="%06.0f"

[CodeDetector]
Mirror=
Left=
Right=
Shuffle=
SuperShuffle=
NextTransform=
NextScrollSpeed=
PreviousScrollSpeed=
NextAccel=
NextEffect=
NextAppearance=
NextTurn=
Reverse=
HoldNotes=
Mines=
Dark=
Hidden=
RandomVanish=
CancelAll=
CancelAllPlayerOptions=
CloseCurrentFolder="Up-Down"

SaveScreenshot1="MenuLeft+MenuRight"
SaveScreenshot2="Select"

PrevOptionsList=
NextOptionsList=

[FadingBanner]
BannerFadeOffCommand=linear,0.125;diffuselowerleft,color("#FFFFFF80");linear,0.125;diffuseupperleft,color("#FFFFFF80");diffuselowerright,color("#FFFFFF80");diffuselowerleft,color("#FFFFFF00");linear,0.125;diffuseupperright,color("#FFFFFF80");diffuseupperleft,color("#FFFFFF00");diffuselowerright,color("#FFFFFF00");linear,0.125;diffuseupperright,color("#FFFFFF00")
BannerFadeFromCachedCommand=diffusealpha,1;linear,0.45;diffusealpha,0
BannerResetFadeCommand=stoptweening;diffuse,color("#FFFFFFFF")

[Gameplay]
ComboIsPerRow=false
UseInternalScoring=true

[ScreenSystemLayer]
ShowCreditDisplay=true
CreditsP1X=SCREEN_LEFT+65*WideScreenDiff()
CreditsP1Y=SCREEN_BOTTOM-11*WideScreenDiff()
CreditsP1RefreshCreditTextMessageCommand=queuecommand,"UpdateText"
CreditsP1CoinInsertedMessageCommand=queuecommand,"UpdateText"
CreditsP1CoinInsertedMessageCommand=queuecommand,"UpdateText"
CreditsP1PlayerJoinedMessageCommand=queuecommand,"UpdateText"
CreditsP1PlayerUnjoinedMessageCommand=queuecommand,"UpdateText"
CreditsP1ScreenChangedMessageCommand=queuecommand,"UpdateVisible";queuecommand,"On"
CreditsP1OnCommand=shadowlength,0;halign,0;valign,1;zoom,0.5*WideScreenDiff()
CreditsP2X=SCREEN_RIGHT-65*WideScreenDiff()
CreditsP2Y=SCREEN_BOTTOM-11*WideScreenDiff()
CreditsP2RefreshCreditTextMessageCommand=queuecommand,"UpdateText"
CreditsP2CoinInsertedMessageCommand=queuecommand,"UpdateText"
CreditsP2PlayerJoinedMessageCommand=queuecommand,"UpdateText"
CreditsP2PlayerUnjoinedMessageCommand=queuecommand,"UpdateText"
CreditsP2ScreenChangedMessageCommand=queuecommand,"UpdateVisible";queuecommand,"On"
CreditsP2OnCommand=shadowlength,0;halign,1;valign,1;zoom,0.5*WideScreenDiff()

[ScreenDebugOverlay]
LineStartY=SCREEN_TOP+50
LineSpacing=18*WideScreenDiff()
LineButtonX=SCREEN_CENTER_X-50*WideScreenDiff()
LineFunctionX=SCREEN_CENTER_X-30*WideScreenDiff()

ButtonTextOnCommand=NoStroke;zoom,0.7*WideScreenDiff()
ButtonTextToggledCommand=accelerate,0.025;diffuse,color("1,0,0,1");sleep,0.5;decelerate,0.2;diffuse,color("1,0,0,0");
FunctionTextOnCommand=NoStroke;zoom,0.7*WideScreenDiff()

PageStartX=SCREEN_CENTER_X-100*WideScreenDiff()
PageSpacingX=120*WideScreenDiff()
PageTextOnCommand=NoStroke;zoom,0.75*WideScreenDiff()

DebugMenuHeaderX=SCREEN_LEFT+80*WideScreenDiff()
DebugMenuHeaderY=SCREEN_TOP+18
DebugMenuHeaderOnCommand=diffusebottomedge,color("0.5,0.5,0.5,1");strokecolor,color("0,0,0,0.5");zoom,1*WideScreenDiff()

HeaderTextX=SCREEN_LEFT+80*WideScreenDiff()
HeaderTextY=SCREEN_TOP+18
HeaderTextOnCommand=diffusebottomedge,color("0.5,0.5,0.5,1");strokecolor,color("0,0,0,0.5");zoom,1*WideScreenDiff()

[ScreenSyncOverlay]
StatusOnCommand=CenterX;y,SCREEN_CENTER_Y+170;zoom,WideScreenDiff();shadowlength,2;strokecolor,color("#000000");
AdjustmentsOnCommand=x,SCREEN_CENTER_X+160*WideScreenDiff();y,SCREEN_CENTER_Y;zoom,WideScreenDiff()

[ScreenStatsOverlay]
ShowSkips=false
StatsX=SCREEN_RIGHT-8*WideScreenDiff()
StatsY=SCREEN_TOP+10*WideScreenDiff()
StatsOnCommand=halign,1;valign,0;shadowlength,1;zoom,0.5*WideScreenDiff();vertspacing,-10

[ScreenWithMenuElements]
ShowCreditDisplay=true

ShowHeader=true
HeaderX=
HeaderY=
HeaderOnCommand=draworder,102;addy,-100;decelerate,0.8;addy,100
HeaderOffCommand=accelerate,0.5;addy,-100

ShowFooter=true
FooterX=SCREEN_CENTER_X
FooterY=SCREEN_BOTTOM-31
FooterOnCommand=draworder,10
FooterOffCommand=

ShowStyleIcon=false
StyleIconX=isFinal() and SCREEN_RIGHT-215*WideScreenDiff_(16/10) or SCREEN_RIGHT-260*WideScreenDiff()
StyleIconY=isFinal() and SCREEN_TOP+38*WideScreenDiff() or SCREEN_TOP+59*WideScreenDiff()
StyleIconOnCommand=draworder,10;zoom,isFinal() and WideScreenDiff_(16/10) or WideScreenDiff();addx,SCREEN_WIDTH/2;sleep,1;decelerate,0.3;addx,-SCREEN_WIDTH/2
StyleIconOffCommand=stoptweening;accelerate,0.3;addx,SCREEN_WIDTH/2;addy,-36.5

ShowStageDisplay=false
StageDisplayX=isFinal() and SCREEN_RIGHT-90*WideScreenDiff_(16/10) or SCREEN_RIGHT-130*WideScreenDiff()
StageDisplayY=isFinal() and SCREEN_TOP+35*WideScreenDiff() or SCREEN_TOP+54*WideScreenDiff()
StageDisplayOnCommand=zoom,isFinal() and 0.7*WideScreenDiff_(16/10) or 0.7*WideScreenDiff();addx,SCREEN_WIDTH/2;sleep,1.3;decelerate,0.3;addx,-SCREEN_WIDTH/2;draworder,1
StageDisplayOffCommand=stoptweening;accelerate,0.3;addx,SCREEN_WIDTH/2;addy,-36.5

TimerX=SCREEN_LEFT+86*WideScreenDiff()
TimerY=SCREEN_TOP+35*WideScreenDiff()
TimerOnCommand=draworder,101;addy,-100;decelerate,0.8;addy,100;zoom,WideScreenDiff()
TimerOffCommand=accelerate,0.7;addy,-200

ShowHelp=false
HelpX=SCREEN_CENTER_X
HelpY=isFinal() and SCREEN_BOTTOM-54*WideScreenDiff() or SCREEN_BOTTOM-51*WideScreenDiff()
HelpOnCommand=draworder,10;zoom,0.6*WideScreenDiff();shadowlength,1.5;diffusealpha,0;sleep,1;linear,0.3;diffusealpha,1
HelpOffCommand=stoptweening;accelerate,0.5;addy,100

MemoryCardIcons=true
MemoryCardDisplayP1X=SCREEN_LEFT+40*WideScreenDiff()
MemoryCardDisplayP1Y=SCREEN_BOTTOM-15*WideScreenDiff()
MemoryCardDisplayP1OnCommand=draworder,999;zoom,WideScreenDiff()
MemoryCardDisplayP1OffCommand=
MemoryCardDisplayP2X=SCREEN_RIGHT-40*WideScreenDiff()
MemoryCardDisplayP2Y=SCREEN_BOTTOM-15*WideScreenDiff()
MemoryCardDisplayP2OnCommand=draworder,999;zoom,WideScreenDiff()
MemoryCardDisplayP2OffCommand=

[MenuTimer]
Text1OnCommand=stoptweening;shadowlength,0;zoom,1.1;x,2;horizalign,right
Text1FormatFunction=function(fSeconds) fSeconds=math.floor(fSeconds); return string.format("%02.0f",fSeconds) end
Text2OnCommand=stoptweening;shadowlength,0;zoom,0.85;x,1;y,2;halign,0
Text2FormatFunction=function(fSeconds) local remainder=fSeconds-math.floor(fSeconds); local digit=math.floor(remainder*10); return "."..digit end

WarningStart=6
WarningBeepStart=6
Warning6Command=%function(self) self:stoptweening():zoom(self:GetZoom()+0.3):linear(0.2):zoom(self:GetZoom()-0.3):diffuseshift():effectperiod(0.5):effectcolor1(color("1,0,0,1")):effectcolor2(color("1,0,0,0")) end
Warning5Command=%function(self) self:stoptweening():zoom(self:GetZoom()+0.3):linear(0.2):zoom(self:GetZoom()-0.3) end
Warning4Command=%function(self) self:stoptweening():zoom(self:GetZoom()+0.3):linear(0.2):zoom(self:GetZoom()-0.3) end
Warning3Command=%function(self) self:stoptweening():zoom(self:GetZoom()+0.3):linear(0.2):zoom(self:GetZoom()-0.3) end
Warning2Command=%function(self) self:stoptweening():zoom(self:GetZoom()+0.3):linear(0.2):zoom(self:GetZoom()-0.3) end
Warning1Command=%function(self) self:stoptweening():zoom(self:GetZoom()+0.3):linear(0.2):zoom(self:GetZoom()-0.3) end
Warning0Command=%function(self) self:stoptweening():stopeffect(); end

[HelpDisplay]
TipSwitchTime=3.5
TipOnCommand=shadowlength,0;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#9A9999");effectperiod,1.5

[ScreenWithMenuElementsBlank]
Fallback="ScreenWithMenuElements"
ShowHeader=false

[ScreenSelectMasterBlank]
Fallback="ScreenSelectMaster"
ShowHeader=false
ShowIcon=false
ShowScroller=false

[ScreenOptions]
PageX=SCREEN_CENTER_X
PageY=SCREEN_CENTER_Y+19

NumRowsShown=8
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:y(SCREEN_CENTER_Y-116*WideScreenDiff()+28*offsetFromCenter*WideScreenDiff()) \
end
RowOnCommand=diffusealpha,1
RowOffCommand=diffusealpha,1;accelerate,0.6;diffusealpha,0
CursorOnCommand=diffusealpha,1
CursorOffCommand=diffusealpha,1;accelerate,0.6;diffusealpha,0

ShowScrollBar=true
ScrollBarOnCommand=diffusealpha,1
ScrollBarOffCommand=diffusealpha,1;accelerate,0.6;diffusealpha,0
ScrollBarX=SCREEN_CENTER_X-285*WideScreenDiff()
ScrollBarY=SCREEN_CENTER_Y+2
ScrollBarHeight=230*WideScreenDiff()
ScrollBarTime=.2

ExplanationTogetherX=SCREEN_CENTER_X-266*WideScreenDiff()
ExplanationTogetherY=SCREEN_CENTER_Y+132*WideScreenDiff()
ExplanationTogetherOnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,1100;valign,0;halign,0;cropright,1;linear,0.5;cropright,0
ExplanationP1X=SCREEN_CENTER_X-288*WideScreenDiff()
ExplanationP1Y=SCREEN_CENTER_Y+134*WideScreenDiff()
ExplanationP1OnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,550;valign,0;halign,0;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_1)
ExplanationP2X=SCREEN_CENTER_X+288*WideScreenDiff()
ExplanationP2Y=SCREEN_CENTER_Y+134*WideScreenDiff()
ExplanationP2OnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,550;valign,0;halign,1;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_2)

DisqualifyP1X=SCREEN_CENTER_X-160*WideScreenDiff()
DisqualifyP1Y=SCREEN_CENTER_Y+111*WideScreenDiff()
DisqualifyP1OnCommand=zoom,0.5;glowshift;effectcolor2,color("1,0.9,0.2,0.8");draworder,100
DisqualifyP2X=SCREEN_CENTER_X+160*WideScreenDiff()
DisqualifyP2Y=SCREEN_CENTER_Y+111*WideScreenDiff()
DisqualifyP2OnCommand=zoom,0.5;glowshift;effectcolor2,color(".4,1,0.2,0.8");draworder,100

ShowExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+108*WideScreenDiff()

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y+112*WideScreenDiff()
MoreOnCommand=diffusealpha,1
MoreOffCommand=diffusealpha,1;accelerate,0.6;diffusealpha,0
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

LineHighlightP1OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5;zoom,WideScreenDiff()
LineHighlightP1OffCommand=diffusealpha,1;accelerate,0.6;diffusealpha,0
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP2OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5;zoom,WideScreenDiff()
LineHighlightP2OffCommand=diffusealpha,1;accelerate,0.6;diffusealpha,0
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

[ScreenOptionsAdvanced]
Fallback="ScreenOptionsServiceChild"
LineNames="3,4"..(not isEtterna() and ",8" or "")..",SI,SM,HN"..(not isEtterna() and ",11,13,14,15,16,28,29" or ",14")..",30"..(isOutFox() and ",31,32,ECPT" or ",32")..(isEtterna() and "SSR,PR,ReplayMods,PackProgress,MinidumpUpload" or "")

#LineNames="3,4,SI,SM,HN,SSR,14,30,OsuLifts,ReplayMods,PR,PackProgress,MinidumpUpload,32"
#LineScore="lua,UserPrefScoringMode()"
Line3="conf,TimingWindowScale"
Line4="conf,LifeDifficulty"
Line8="conf,DefaultFailType"
LineSI="lua,SpeedModIncSize()"
LineSM="lua,SpeedModIncLarge()"
LineHN="conf,MinTNSToHideNotes"
#Line11="conf,AllowW1"
#Line13="conf,HiddenSongs"
Line14="conf,EasterEggs"
#Line15="conf,AllowExtraStage"
#Line16="conf,UseUnlockSystem"
#Line28="conf,AutogenSteps"
#Line29="conf,AutogenGroupCourses"
Line30="conf,FastLoad"
Line31="conf,FastLoadAdditionalSongs"
Line32="conf,AllowSongDeletion"
#LineECPT="conf,EditClearPromptThreshold"

LineSSR="conf,SortBySSRNormPercent"
LinePR="conf,EnablePitchRates"
LineOsuLifts="conf,LiftsOnOsuHolds"
LineReplayMods="conf,ReplaysUseScoreMods"
LinePackProgress="conf,PackProgressInWheel"
LineMinidumpUpload="conf,EnableMinidumpUpload"

[OptionRow]
ShowBpmInSpeedTitle=false

TitleX=SCREEN_CENTER_X-272*WideScreenDiff()
TitleOnCommand=shadowlength,0;zoom,0.5*WideScreenDiff();halign,0;maxwidth,170;maxheight,48;vertspacing,-9
TitleGainFocusCommand=diffuse,color("1,1,1,1");strokecolor,color("0,0,0,1")
TitleLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1");strokecolor,color("0,0,0,1")

ItemsStartX=SCREEN_CENTER_X-170*WideScreenDiff()
ItemsEndX=SCREEN_CENTER_X+300*WideScreenDiff()
ItemsMinBaseZoom=0.9
ItemsGapX=10*WideScreenDiff()
ItemOnCommand=%function(self) self:shadowlength(0):zoom(0.5*WideScreenDiff()):zoomx(0.5*WideScreenDiff()*self:GetBaseZoomX()) end
ItemsLongRowP1X=SCREEN_CENTER_X-60*WideScreenDiff()
ItemsLongRowP2X=SCREEN_CENTER_X+100*WideScreenDiff()
ItemsLongRowSharedX=SCREEN_CENTER_X+20*WideScreenDiff()

ColorSelected=color("1,1,1,1")
ColorNotSelected=color("#808080FF")
ColorDisabled=color("0.5,0.5,0.5,1")

[OptionRowExit]
ItemOnCommand=visible,false
ItemsLongRowSharedX=SCREEN_CENTER_X

[OptionsCursor]
LeftOnCommand=horizalign,right;zoom,1*WideScreenDiff()
MiddleOnCommand=zoomy,1*WideScreenDiff()
RightOnCommand=horizalign,left;zoom,1*WideScreenDiff()
CanGoLeftOnCommand=horizalign,right;zoom,1*WideScreenDiff()
CanGoRightOnCommand=horizalign,left;zoom,1*WideScreenDiff()
LeftX=0
MiddleX=0
RightX=0

[OptionsCursorP1]
Fallback="OptionsCursor"
LeftY=-2*WideScreenDiff()
MiddleY=-2*WideScreenDiff()
RightY=-2*WideScreenDiff()

[OptionsCursorP2]
Fallback="OptionsCursor"
LeftY=2*WideScreenDiff()
MiddleY=2*WideScreenDiff()
RightY=2*WideScreenDiff()

[OptionsUnderline]
Fallback="OptionsCursor"

[OptionsUnderlineP1]
Fallback="OptionsUnderline"
LeftY=0*WideScreenDiff()
MiddleY=0*WideScreenDiff()
RightY=0*WideScreenDiff()

[OptionsUnderlineP2]
Fallback="OptionsUnderline"
LeftY=0*WideScreenDiff()
MiddleY=0*WideScreenDiff()
RightY=0*WideScreenDiff()

[ScreenOptionsMaster]
SongMenu=10
SongMenuDefault=
SongMenu,1="name,Speed;screen,AutoVelocity"
SongMenu,2="name,Perspective;screen,Persp"
SongMenu,3="name,Scroll;screen,Scroll"
SongMenu,4="name,Fail;screen,Fail"
SongMenu,5="name,NoteSkins;screen,NoteSkins"
SongMenu,6=(isEtterna() or isOldStepMania()) and "name,GroupedEffectsE;screen,GroupedEffectsE" or "name,GroupedEffects;screen,GroupedEffects"
SongMenu,7="name,GroupedManipulation;screen,GroupedManipulation"
SongMenu,8="name,GroupedLuaAdditionals;screen,GroupedLuaAdditionals"
SongMenu,9="name,Rate;screen,Rate"
SongMenu,10="name,ResetOptions"

CourseMenu=10
CourseMenuDefault=
CourseMenu,1="name,Speed;screen,AutoVelocity"
CourseMenu,2="name,NoteSkins;screen,NoteSkins"
CourseMenu,3="name,UnderFieldOptions;screen,OptionUnderFieldOptions"
CourseMenu,4="name,MovePlayerStats;screen,OptionMovePlayerStats"
CourseMenu,5="name,SetScoreType;screen,OptionSetScoreType"
CourseMenu,6="name,ShowStats;screen,OptionShowStats"
CourseMenu,7="name,ShowNoteGraph;screen,OptionShowNoteGraph"
CourseMenu,8="name,SetPacemaker;screen,OptionSetPacemaker"
CourseMenu,9="name,ShowAssists;screen,OptionShowAssists"
CourseMenu,10="name,ShowModifiers;screen,OptionShowModifiers"

NoteSkins="1"
NoteSkinsDefault=""
NoteSkins,1="lua,LuaNoteskins()"

#Line0
LifeType=(isEtterna() and 3 or 5)..";together"
LifeTypeDefault=""
LifeType,1="mod,bar,normal-drain;name,Bar"
LifeType,2="mod,bar,norecover;name,NoRecover"
LifeType,3="mod,bar,suddendeath;name,SuddenDeath"
LifeType,4="mod,battery;name,Battery"
LifeType,5="mod,lifetime;name,LifeTime"
#Line0DDR
LifeTypeDDR="17;together"
LifeTypeDDRDefault=""
LifeTypeDDR,1="mod,bar,normal-drain;name,Bar"
LifeTypeDDR,2="mod,bar,norecover;name,NoRecover"
LifeTypeDDR,3="mod,bar,suddendeath;name,SuddenDeath"
LifeTypeDDR,4="mod,bar,class;name,Class"
LifeTypeDDR,5="mod,bar,flare-1;name,Flare1"
LifeTypeDDR,6="mod,bar,flare-2;name,Flare2"
LifeTypeDDR,7="mod,bar,flare-3;name,Flare3"
LifeTypeDDR,8="mod,bar,flare-4;name,Flare4"
LifeTypeDDR,9="mod,bar,flare-5;name,Flare5"
LifeTypeDDR,10="mod,bar,flare-6;name,Flare6"
LifeTypeDDR,11="mod,bar,flare-7;name,Flare7"
LifeTypeDDR,12="mod,bar,flare-8;name,Flare8"
LifeTypeDDR,13="mod,bar,flare-9;name,Flare9"
LifeTypeDDR,14="mod,bar,flare-ex;name,FlareEX"
LifeTypeDDR,15="mod,bar,floating-flare;name,FloatingFlare"
LifeTypeDDR,16="mod,battery;name,Battery"
LifeTypeDDR,17="mod,lifetime;name,LifeTime"
# Line2
Persp="5"
PerspDefault="mod,overhead"
Persp,1="mod,overhead;name,Overhead"
Persp,2="mod,hallway;name,Hallway"
Persp,3="mod,distant;name,Distant"
Persp,4="mod,incoming;name,Incoming"
Persp,5="mod,space;name,Space"
# Line4
Scroll="5;selectmultiple"
ScrollDefault="mod,no reverse,no split,no alternate,no cross,no centered"
Scroll,1="mod,reverse;name,Reverse"
Scroll,2="mod,split;name,Split"
Scroll,3="mod,alternate;name,Alternate"
Scroll,4="mod,cross;name,Cross"
Scroll,5="mod,centered;name,Centered"
# LineF
Fail="3;together"
FailDefault="mod,faildefault"
Fail,1="mod,failimmediate;name,Immediate"
Fail,2="mod,failimmediatecontinue;name,FailAt30Misses"
#Fail,3="mod,failatend;name,FailAtEnd"
Fail,3="mod,failoff;name,Off"
# LineFV
FailV="4;together"
FailVDefault="mod,faildefault"
FailV,1="mod,failimmediate;name,Immediate"
FailV,2="mod,failimmediatecontinue;name,FailAt30Misses"
FailV,3="mod,80percent;name,80Percent"
FailV,4="mod,failoff;name,Off"
# Line5
Accel="6;selectmultiple"
AccelDefault="mod,no boost,no brake,no wave,no expand,no boomerang,no randomspeed"
Accel,1="mod,boost;name,Boost"
Accel,2="mod,brake;name,Brake"
Accel,3="mod,wave;name,Wave"
Accel,4="mod,expand;name,Expand"
Accel,5="mod,boomerang;name,Boomerang"
Accel,6="mod,randomspeed;name,Random"
# LineRE
ReceptorEffects="6;selectmultiple"
ReceptorEffectsDefault="mod,no beat,no beaty,no beatz,no confusion,no confusionx,no confusiony"
ReceptorEffects,1="mod,beat;name,BeatX"
ReceptorEffects,2="mod,beaty;name,BeatY"
ReceptorEffects,3="mod,400% beatz;name,BeatZ"
ReceptorEffects,4="mod,confusion;name,Confusion"
ReceptorEffects,5="mod,confusionx;name,ConfusionX"
ReceptorEffects,6="mod,confusiony;name,ConfusionY"
# LineRE2
ReceptorEffects2="5;selectmultiple"
ReceptorEffects2Default="mod,no drunk,no drunkz,no flip,no invert,no tipsy"
ReceptorEffects2,1="mod,drunk;name,DrunkX"
ReceptorEffects2,2="mod,400% drunkz;name,DrunkZ"
ReceptorEffects2,3="mod,flip;name,Flip"
ReceptorEffects2,4="mod,invert;name,Invert"
ReceptorEffects2,5="mod,tipsy;name,Tipsy"
# LineREE
ReceptorEffectsE="6;selectmultiple"
ReceptorEffectsEDefault="mod,no beat,no confusion,no drunk,no flip,no invert,no tipsy"
ReceptorEffectsE,1="mod,beat;name,Beat"
ReceptorEffectsE,2="mod,confusion;name,Confusion"
ReceptorEffectsE,3="mod,drunk;name,Drunk"
ReceptorEffectsE,4="mod,flip;name,Flip"
ReceptorEffectsE,5="mod,invert;name,Invert"
ReceptorEffectsE,6="mod,tipsy;name,Tipsy"
# LineAE
ArrowEffects="7;selectmultiple"
ArrowEffectsDefault="mod,no attenuatex,no attenuatey,no attenuatez,no bounce,no bouncez,no bumpyx,no bumpy"
ArrowEffects,1="mod,attenuatex;name,AttenuateX"
ArrowEffects,2="mod,attenuatey;name,AttenuateY"
ArrowEffects,3="mod,400% attenuatez;name,AttenuateZ"
ArrowEffects,4="mod,bounce;name,Bounce"
ArrowEffects,5="mod,400% bouncez;name,BounceZ"
ArrowEffects,6="mod,50% bumpyx;name,BumpyX"
ArrowEffects,7="mod,200% bumpy;name,BumpyZ"
# LineAE2
ArrowEffects2="7;selectmultiple"
ArrowEffects2Default="mod,no digital,no digitalz,no parabolax,no parabolay,no parabolaz,no sawtooth,no sawtoothz"
ArrowEffects2,1="mod,digital;name,Digital"
ArrowEffects2,2="mod,digitalz;name,DigitalZ"
ArrowEffects2,3="mod,parabolax;name,ParabolaX"
ArrowEffects2,4="mod,400% parabolay;name,ParabolaY"
ArrowEffects2,5="mod,1600% parabolaz;name,ParabolaZ"
ArrowEffects2,6="mod,sawtooth;name,Sawtooth"
ArrowEffects2,7="mod,sawtoothz;name,SawtoothZ"
# LineAE3
ArrowEffects3="7;selectmultiple"
ArrowEffects3Default="mod,no square,no squarez,no tornado,no tornadoz,no xmode,no zigzag,no zigzagz"
ArrowEffects3,1="mod,square;name,Square"
ArrowEffects3,2="mod,squarez;name,SquareZ"
ArrowEffects3,3="mod,50% tornado;name,TornadoX"
ArrowEffects3,4="mod,100% tornadoz;name,TornadoZ"
ArrowEffects3,5="mod,45% xmode;name,XMode"
ArrowEffects3,6="mod,zigzag;name,Zigzag"
ArrowEffects3,7="mod,200% zigzagz;name,ZigzagZ"
# LineAEE
ArrowEffectsE="3;selectmultiple"
ArrowEffectsEDefault="mod,no bumpy,no tornado,no xmode"
ArrowEffectsE,1="mod,200% bumpy;name,Bumpy"
ArrowEffectsE,2="mod,50% tornado;name,Tornado"
ArrowEffectsE,3="mod,45% xmode;name,XMode"
# LineAE4
ArrowEffects4="9;selectmultiple"
ArrowEffects4Default="mod,no asymptote,no bumpyy,no cubicx,no cubicy,no cubicz,no drunky,no spiralx,no spiraly,no spiralz"
ArrowEffects4,1="mod,asymptote;name,Asymptote"
ArrowEffects4,2="mod,bumpyy;name,BumpyY"
ArrowEffects4,3="mod,cubicx;name,CubicX"
ArrowEffects4,4="mod,cubicy;name,CubicY"
ArrowEffects4,5="mod,cubicz;name,CubicZ"
ArrowEffects4,6="mod,drunky;name,DrunkY"
ArrowEffects4,7="mod,spiralx;name,SpiralX"
ArrowEffects4,8="mod,spiraly;name,SpiralY"
ArrowEffects4,9="mod,spiralz;name,SpiralZ"
# Line17
Rotation="3;selectmultiple"
RotationDefault="mod,no dizzy,no twirl, no roll"
Rotation,1="mod,dizzy;name,Dizzy"
Rotation,2="mod,twirl;name,Twirl"
Rotation,3="mod,roll;name,Roll"
# Line9
Appearance="7;selectmultiple"
AppearanceDefault="mod,no hidden,no hiddenoffset,no sudden,no suddenoffset,no blink,no stealth,no randomvanish"
Appearance,1="mod,hidden;name,Hidden"
Appearance,2="mod,hiddenoffset;name,HiddenOffset"
Appearance,3="mod,sudden;name,Sudden"
Appearance,4="mod,suddenoffset;name,SuddenOffset"
Appearance,5="mod,blink;name,Blink"
Appearance,6="mod,stealth;name,Stealth"
Appearance,7="mod,randomvanish;name,RandomVanish"
# Line10
Handicap="5;selectmultiple"
HandicapDefault="mod,no little,no nojumps,no nohands,no noquads,no nofakes"
Handicap,1="mod,little;name,Little"
Handicap,2="mod,nojumps;name,NoJumps"
Handicap,3="mod,nohands;name,NoHands"
Handicap,4="mod,noquads;name,NoQuads"
Handicap,5="mod,nofakes;name,NoFakes"
# Line11
Handicap2="4;selectmultiple"
Handicap2Default="mod,no noholds,no norolls,no nolifts,no nostretch"
Handicap2,1="mod,noholds;name,NoHolds"
Handicap2,2="mod,norolls;name,NoRolls"
Handicap2,3="mod,nolifts;name,NoLifts"
Handicap2,4="mod,nostretch;name,NoStretch"
# Line12
Turn=(isITGmania() and "8" or "7")..";selectmultiple"
TurnDefault="mod,no turn"
Turn,1="mod,mirror;name,Mirror"
Turn,2="mod,backwards;name,Backwards"
Turn,3="mod,left;name,Left"
Turn,4="mod,right;name,Right"
Turn,5="mod,shuffle;name,Shuffle"
Turn,6="mod,supershuffle;name,SuperShuffle"
Turn,7="mod,softshuffle;name,SoftShuffle"
Turn,8="mod,hypershuffle;name,HyperShuffle"
# Line13
Insert="7;selectmultiple"
InsertDefault="mod,no wide,no big,no quick,no skippy,no echo,no stomp,no bmrize"
Insert,1="mod,big;name,Big"
Insert,2="mod,quick;name,Quick"
Insert,3="mod,skippy;name,Skippy"
Insert,4="mod,echo;name,Echo"
Insert,5="mod,wide;name,Wide"
Insert,6="mod,stomp;name,Stomp"
Insert,7="mod,bmrize;name,BMRize"
# Line14
Holds=(isOutFox() and "6" or "4")..";selectmultiple"
HoldsDefault="mod,no planted,no floored,no twister,no holdrolls"..(isOutFox() and ",no holdlifts,no stealthholds" or "")
Holds,1="mod,planted;name,Planted"
Holds,2="mod,floored;name,Floored"
Holds,3="mod,twister;name,Twister"
Holds,4="mod,holdrolls;name,HoldsToRolls"
Holds,5="mod,holdlifts;name,HoldsToLiftHolds"
Holds,6="mod,stealthholds;name,StealthHolds"
# Line7
MiniList="40"
MiniListDefault="mod,no mini"
MiniList,1="mod,190% mini;name,5%"
MiniList,2="mod,180% mini;name,10%"
MiniList,3="mod,170% mini;name,15%"
MiniList,4="mod,160% mini;name,20%"
MiniList,5="mod,150% mini;name,25%"
MiniList,6="mod,140% mini;name,30%"
MiniList,7="mod,130% mini;name,35%"
MiniList,8="mod,120% mini;name,40%"
MiniList,9="mod,110% mini;name,45%"
MiniList,10="mod,100% mini;name,50%"
MiniList,11="mod,90% mini;name,55%"
MiniList,12="mod,80% mini;name,60%"
MiniList,13="mod,70% mini;name,65%"
MiniList,14="mod,60% mini;name,70%"
MiniList,15="mod,50% mini;name,75%"
MiniList,16="mod,40% mini;name,80%"
MiniList,17="mod,30% mini;name,85%"
MiniList,18="mod,20% mini;name,90%"
MiniList,19="mod,10% mini;name,95%"
MiniList,20="mod,no mini;name,100%"
MiniList,21="mod,-5% mini;name,105%"
MiniList,22="mod,-10% mini;name,110%"
MiniList,23="mod,-15% mini;name,115%"
MiniList,24="mod,-20% mini;name,120%"
MiniList,25="mod,-25% mini;name,125%"
MiniList,26="mod,-30% mini;name,130%"
MiniList,27="mod,-35% mini;name,135%"
MiniList,28="mod,-40% mini;name,140%"
MiniList,29="mod,-45% mini;name,145%"
MiniList,30="mod,-50% mini;name,150%"
MiniList,31="mod,-55% mini;name,155%"
MiniList,32="mod,-60% mini;name,160%"
MiniList,33="mod,-65% mini;name,165%"
MiniList,34="mod,-70% mini;name,170%"
MiniList,35="mod,-75% mini;name,175%"
MiniList,36="mod,-80% mini;name,180%"
MiniList,37="mod,-85% mini;name,185%"
MiniList,38="mod,-90% mini;name,190%"
MiniList,39="mod,-95% mini;name,195%"
MiniList,40="mod,-100% mini;name,200%"
# LineM
Mines=isOutFox() and "5" or "4"
MinesDefault="mod,no nomines,no mines,no attackmines"..(isOutFox() and ",no stealthmines" or "")
Mines,1="mod,nomines;name,NoMines"
Mines,2="name,AllowMines"
Mines,3="mod,mines;name,MoreMines"
Mines,4="mod,attackmines;name,AttackMines"
Mines,5="mod,stealthmines;name,StealthMines"
# LineA
Attacks="3"
AttacksDefault="mod,no noattacks,no randomattacks"
Attacks,1="mod,noattacks;name,NoAttacks"
Attacks,2="name,AllowAttacks"
Attacks,3="mod,randomattacks;name,RandomAttacks"
# Line15
Hide="3;selectmultiple"
HideDefault="mod,no dark,no blind,no cover"
Hide,1="mod,dark;name,Dark"
Hide,2="mod,blind;name,Blind"
Hide,3="mod,80% cover;name,Cover"
# Line27
TimingScale=8
TimingScaleDefault="mod,100% judgescale"
TimingScale,1="mod,50% judgescale;name,50%"
TimingScale,2="mod,60% judgescale;name,60%"
TimingScale,3="mod,70% judgescale;name,70%"
TimingScale,4="mod,80% judgescale;name,80%"
TimingScale,5="mod,90% judgescale;name,90%"
TimingScale,6="mod,100% judgescale;name,100%"
TimingScale,7="mod,125% judgescale;name,125%"
TimingScale,8="mod,150% judgescale;name,150%"
# Line24
Rate="16;together;exportonchange;broadcastonexport,RateChanged"
RateDefault="mod,1.0xmusic;mod,no haste"
Rate,1="mod,0.5xmusic;name,0.5x"
Rate,2="mod,0.6xmusic;name,0.6x"
Rate,3="mod,0.7xmusic;name,0.7x"
Rate,4="mod,0.8xmusic;name,0.8x"
Rate,5="mod,0.9xmusic;name,0.9x"
Rate,6="mod,1.0xmusic;name,1.0x"
Rate,7="mod,1.1xmusic;name,1.1x"
Rate,8="mod,1.2xmusic;name,1.2x"
Rate,9="mod,1.3xmusic;name,1.3x"
Rate,10="mod,1.4xmusic;name,1.4x"
Rate,11="mod,1.5xmusic;name,1.5x"
Rate,12="mod,1.6xmusic;name,1.6x"
Rate,13="mod,1.7xmusic;name,1.7x"
Rate,14="mod,1.8xmusic;name,1.8x"
Rate,15="mod,1.9xmusic;name,1.9x"
Rate,16="mod,2.0xmusic;name,2.0x"
#LineBGC
BGChanges="3;together"
BGChangesDefault="mod,no staticbg;mod,no randombg"
BGChanges,1="mod,no staticbg;mod,no randombg;name,ChangesOn"
BGChanges,2="mod,staticbg;mod,no randombg;name,ChangesOff"
BGChanges,3="mod,randombg;mod,no staticbg;name,ChangesRandom"

GoalType="3;showoneinrow;exportonchange;broadcastonexport,GoalTypeChanged"
GoalTypeDefault="goaltype,calories"
GoalType,1="name,CalorieBurn;goaltype,calories;lua,WorkoutResetStageStats"
GoalType,2="name,PlayTime;goaltype,time;lua,WorkoutResetStageStats"
GoalType,3="name,NoGoal;goaltype,none;lua,WorkoutResetStageStats"

SimpleSteps="2;showoneinrow"
SimpleStepsDefault="mod,no little"
SimpleSteps,1="name,Off;mod,no little"
SimpleSteps,2="name,On;mod,little"

SelectType="3;together"
SelectTypeDefault="playmode,regular"
SelectType,1="name,Songs;playmode,regular"
SelectType,2="name,Courses;playmode,nonstop"
SelectType,3="name,RandomEndless;playmode,endless"

GroupedEffects=(isOutFox() and "9" or "8")..";together"
GroupedEffectsDefault=""
GroupedEffects,1="name,Accel;screen,Accel"
GroupedEffects,2="name,ReceptorEffects;screen,ReceptorEffects"
GroupedEffects,3="name,ReceptorEffects2;screen,ReceptorEffects2"
GroupedEffects,4="name,ArrowEffects;screen,ArrowEffects"
GroupedEffects,5="name,ArrowEffects2;screen,ArrowEffects2"
GroupedEffects,6="name,ArrowEffects3;screen,ArrowEffects3"
GroupedEffects,7=isOutFox() and "name,ArrowEffects4;screen,ArrowEffects4" or "name,Rotation;screen,Rotation"
GroupedEffects,8=isOutFox() and "name,Rotation;screen,Rotation" or "name,Appearance;screen,Appearance"
GroupedEffects,9=isOutFox() and "name,Appearance;screen,Appearance" or ""

GroupedEffectsE="5;together"
GroupedEffectsEDefault=""
GroupedEffectsE,1="name,Accel;screen,Accel"
GroupedEffectsE,2="name,ReceptorEffectsE;screen,ReceptorEffectsE"
GroupedEffectsE,3="name,ArrowEffectsE;screen,ArrowEffectsE"
GroupedEffectsE,4="name,Rotation;screen,Rotation"
GroupedEffectsE,5="name,Appearance;screen,Appearance"

GroupedManipulation="13;together"
GroupedManipulationDefault=""
GroupedManipulation,1="name,Handicap;screen,Handicap"
GroupedManipulation,2="name,Handicap2;screen,Handicap2"
GroupedManipulation,3="name,Turn;screen,Turn"
GroupedManipulation,4="name,Insert;screen,Insert"
GroupedManipulation,5="name,Holds;screen,Holds"
GroupedManipulation,6="name,MiniList;screen,MiniList"
GroupedManipulation,7="name,BGChanges;screen,BGChanges"
GroupedManipulation,8="name,Mines;screen,Mines"
GroupedManipulation,9="name,Attacks;screen,Attacks"
GroupedManipulation,10="name,Hide;screen,Hide"
GroupedManipulation,11="name,TournamentOptions;screen,OptionTournamentOptions"
GroupedManipulation,12="name,UnderFieldOptions;screen,OptionUnderFieldOptions"
GroupedManipulation,13="name,MovePlayerStats;screen,OptionMovePlayerStats"

GroupedLuaAdditionals="9;together"
GroupedLuaAdditionalsDefault=""
GroupedLuaAdditionals,1="name,Orientation;screen,OptionOrientation"
GroupedLuaAdditionals,2="name,Playfield;screen,OptionPlayfield"
GroupedLuaAdditionals,3="name,SetScoreType;screen,OptionSetScoreType"
GroupedLuaAdditionals,4="name,ScreenFilter;screen,OptionRowScreenFilter"
GroupedLuaAdditionals,5="name,ShowStats;screen,OptionShowStats"
GroupedLuaAdditionals,6="name,ShowNoteGraph;screen,OptionShowNoteGraph"
GroupedLuaAdditionals,7="name,SetPacemaker;screen,OptionSetPacemaker"
GroupedLuaAdditionals,8="name,ShowAssists;screen,OptionShowAssists"
GroupedLuaAdditionals,9="name,ShowModifiers;screen,OptionShowModifiers"

[ScreenOptionsSimpleService]
LineHighlightP1OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5;zoom,WideScreenDiff()
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP2OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5;zoom,WideScreenDiff()
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

CursorOnCommand=visible,false

[ScreenAttract]
StartScreen=Branch.TitleScreen()
PrevScreen=
ForceTimer=true
TimerStealth=true
PlayMusic=true

[ScreenCompany]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenIntro"
TimerSeconds=6

[ScreenIntro]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenLogo"
TimerSeconds=36.2

[ScreenLogo]
Fallback="ScreenAttract"
NextScreen=GameModeEnabled() and "ScreenDemonstration" or "ScreenMemoryCard"
StartScreen=Branch.TitleScreen()
TimerSeconds=GameModeEnabled() and 6 or -1

[ScreenDemonstration]
NextScreen=(PREFSMAN:GetPreference("ShowInstructions") and (IsGame("dance") or isOutFoxV() or not isOutFox())) and "ScreenDemonstration2" or "ScreenRankingDanceSingle"
StartScreen=Branch.TitleScreen()
SecondsToShow=30
ShowStageDisplay=false
AllowStepTypes="StepsType_Dance_Single"

ActiveAttackListP1X=
ActiveAttackListP1Y=
ActiveAttackListP1OnCommand=
ActiveAttackListP1OffCommand=
ActiveAttackListP2X=
ActiveAttackListP2Y=
ActiveAttackListP2OnCommand=
ActiveAttackListP2OffCommand=

MinSecondsToStep=GAMESTATE:IsCourseMode() and 1.55 or GetMinSecondsToStep()

[ScreenDemonstration2]
Fallback="ScreenDemonstration"
NextScreen="ScreenRankingDanceSingle"
AllowStyleTypes="OnePlayerOneSide"
AllowStepTypes="StepsType_Dance_Single"
DifficultiesToShow="beginner"
SecondsToShow=41
PlayerType="PlayerTraining"

StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false

[ScreenRanking]
Class="ScreenHighScores"
Fallback="ScreenAttract"
NextScreen="ScreenRanking2"
ShowHeader=true

HeaderX=
HeaderY=
HeaderOnCommand=
HeaderOffCommand=

NoScoreName="-----"

ManualScrolling=false
HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"

MaxItemsToShow=50

ScrollerOnCommand=CenterX;y,SCREEN_CENTER_Y+20*WideScreenDiff();scrollthroughallitems
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) self:y(65*offset*WideScreenDiff()) end
ScrollerItemsToDraw=math.ceil(7/WideScreenDiff())
ScrollerSecondsPerItem=0.41

[ScreenRanking2]
Fallback="ScreenRanking"
NextScreen="ScreenRanking3"
HighScoresType="HighScoresType_NonstopCourses"

MaxItemsToShow=15

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"

[ScreenRanking3]
Fallback="ScreenRanking2"
NextScreen="ScreenMemoryCard"
HighScoresType="HighScoresType_SurvivalCourses"

NumColumns=1
ColumnDifficulty1="Difficulty_Medium"

[ScreenRankingDanceSingle]
Fallback="ScreenRanking"
ColumnChartType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnChartType2=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnChartType3=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnChartType4=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType2=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType3=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType4=StepsTypeSingle()[GetUserPrefN("StylePosition")]
NextScreen=StepsTypeDouble()[GetUserPrefN("StylePosition")] and "ScreenRankingDanceDouble" or "ScreenRankingMarathonSingle"

[ScreenRankingDanceDouble]
Fallback="ScreenRanking"
ColumnChartType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnChartType2=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnChartType3=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnChartType4=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType2=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType3=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType4=StepsTypeDouble()[GetUserPrefN("StylePosition")]
NextScreen="ScreenRankingMarathonSingle"

[ScreenRankingMarathonSingle]
Fallback="ScreenRanking2"
ColumnChartType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnChartType2=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType2=StepsTypeSingle()[GetUserPrefN("StylePosition")]
NextScreen=StepsTypeDouble()[GetUserPrefN("StylePosition")] and "ScreenRankingMarathonDouble" or "ScreenRankingSurvivalSingle"

[ScreenRankingMarathonDouble]
Fallback="ScreenRanking2"
ColumnChartType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnChartType2=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType2=StepsTypeDouble()[GetUserPrefN("StylePosition")]
NextScreen="ScreenRankingSurvivalSingle"

[ScreenRankingSurvivalSingle]
Fallback="ScreenRanking3"
ColumnChartType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
NextScreen=StepsTypeDouble()[GetUserPrefN("StylePosition")] and "ScreenRankingSurvivalDouble" or "ScreenMemoryCard"

[ScreenRankingSurvivalDouble]
Fallback="ScreenRanking3"
ColumnChartType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]

[ScreenMemoryCard]
Fallback="ScreenAttract"
Class="ScreenAttract"
NextScreen="ScreenOITG"
TimerSeconds=12.25

[ScreenOITG]
Fallback="ScreenAttract"
Class="ScreenAttract"
NextScreen="ScreenCompany"
TimerSeconds=8

[ScreenTitleMenu]
PrevScreen="ScreenCompany"
CoinModeChangeScreen=Branch.TitleScreen()
ShowHeader=false

ShowHelp=true
HelpX=SCREEN_CENTER_X
HelpY=SCREEN_BOTTOM-14*WideScreenDiff()
HelpOffCommand=stoptweening;accelerate,0.5;addy,100
HelpOnCommand=draworder,10;zoom,0.6*WideScreenDiff();shadowlength,0;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#9A9999");effectperiod,1.5;

ChoiceNames=isEtterna() and "01,08,09,11" or GameModeEnabled() and "01,02,03,04,05,06,07,08,09,11" or "01,02,03,04,05,07,09,11"
DefaultChoice="01"
Choice01="applydefaultoptions;name,Dance;text,Dance;screen,ScreenSelectStyle"
Choice02="applydefaultoptions;name,Battle;text,Battle;screen,ScreenSelectNumPlayers"
Choice03="applydefaultoptions;name,Marathon;text,Marathon;playmode,nonstop;screen,ScreenSelectStyle"
Choice04="applydefaultoptions;name,Survival;text,Survival;playmode,oni;mod,lifetime;screen,ScreenSelectStyle"
Choice05="applydefaultoptions;name,Fitness;text,Fitness;screen,ScreenSelectStyleWorkout;setenv,Workout,true"
Choice06="screen,ScreenJukeboxMenu;text,Jukebox"
Choice07="text,Edit/Share;screen,ScreenEditMenu"
Choice08="screen,ScreenRecordsMenu;text,Records"
Choice09="screen,ScreenOptionsService;text,Options"
Choice11="screen,ScreenExit;text,Exit"

ScrollerX=WideScaleFixed(SCREEN_RIGHT-32*WideScreenDiff(),SCREEN_RIGHT-40*WideScreenDiff())
ScrollerY=SCREEN_CENTER_Y+220
ScrollerTransform=function(self,offset,itemIndex,numItems) self:y(-20*((numItems+1)-offset)*WideScreenSemiDiff()) end

[ScreenTitleJoin]
Fallback="ScreenTitleMenu"
NextScreen="ScreenDemonstration"
TimerSeconds=10
TimerStealth=true
ForceTimer=true

ChoiceNames="1"
Choice1="screen,"..Branch.StartGame()

[ScreenTitleMenuAlt]
Fallback="ScreenTitleMenu"

[ScreenTitleAlt]
Fallback="ScreenTitleJoin"

[ScreenITG3]
Class="ScreenSplash"
Fallback="ScreenWithMenuElementsBlank"
NextScreen=Branch.StartGame()
#NextScreen="ScreenSelectProfile"
PrevScreen=Branch.TitleScreen()
TimerSeconds=2
ForceTimer=true
TimerStealth=true
AllowStartToSkip=false
PrepareScreen=""

[ScreenWarning]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMasterBlank"
PrevScreen=Branch.TitleScreen()
NextScreen="ScreenSelectPlayMode"
TimerSeconds=8
TimerStealth=true
ForceTimer=true

ChoiceNames="1"
Choice1="screen,ScreenSelectPlayMode"
DefaultChoice="1"

[ScreenSelectProfile]
NextScreen=Branch.StartGame()

[ScreenProfileSave]
NextScreen=Branch.PostProfileSave()
ShowHeader=false
ShowFooter=false

[ScreenProfileSaveSummary]
Fallback="ScreenProfileSave"
NextScreen=Branch.AfterSaveSummary()
PrevScreen=Branch.AfterSaveSummary()

[ScreenSelectPlayMode]
PrevScreen=Branch.TitleScreen()
ShowHelp=true

ChoiceNames="1,2,3,4"
Choice1="playmode,regular;screen,ScreenSelectStyle"
Choice2="screen,ScreenSelectNumPlayers"
Choice3="playmode,nonstop;screen,ScreenSelectStyle"
Choice4="playmode,oni;screen,ScreenSelectStyle;mod,lifetime"

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=false

PerChoiceScrollElement=true
ScrollerX=SCREEN_CENTER_X-100*((WideScreenDiff()+WideScreenSemiDiff())/2)
ScrollerY=SCREEN_CENTER_Y+70*WideScreenSemiDiff()
ScrollerOnCommand=%function(self) self:z(-200):SetDrawByZPosition(false) end
ScrollerOffCommand=
ScrollerTransform=function(self,offset,itemIndex,numItems) local theta=offset*math.pi*2/numItems; self:y(math.sin(theta)*200):z(math.cos(theta)*200):x(self:GetZ()/2.8); local focus=scale(self:GetZ(),0,200,-1,1); focus=clamp(focus,0,1); local bright=scale(focus,0,1,0.3,1); self:diffuse(bright,bright,bright,1); local zoomv=scale(focus,0,1,0.0,1); self:zoom(zoomv); end
ScrollerNumItemsToDraw=15
ScrollerSecondsPerItem=0.01
ScrollGainFocusCommand=zoomz,1.1
ScrollLoseFocusCommand=zoomz,1

[ScreenSelectStyle]
PrevScreen=Branch.BeforeSelectStyle()
ShowHelp=true

ChoiceNames=GetStyles()
Choice0=""
Choice1="style,"..ChoiceSingle()[GetUserPrefN("StylePosition")]..";difficulty,medium;screen,ScreenProfileLoad"
Choice2="style,"..ChoiceVersus()[GetUserPrefN("StylePosition")]..";difficulty,medium;screen,ScreenProfileLoad"
Choice3="style,"..ChoiceDouble()[GetUserPrefN("StylePosition")]..";difficulty,medium;screen,ScreenProfileLoad"

ShowIcon=true
PerChoiceIconElement=true
UseIconMetrics=false

PerChoiceScrollElement=true
ScrollerX=SCREEN_CENTER_X+100*((WideScreenDiff()+WideScreenSemiDiff())/2)
ScrollerY=SCREEN_CENTER_Y+82*WideScreenSemiDiff()
ScrollerOnCommand=%function(self) self:z(-200):fov(90):SetDrawByZPosition(false) end
ScrollerOffCommand=
ScrollerTransform=function(self,offset,itemIndex,numItems) local theta=offset*math.pi*2/numItems; self:y(math.sin(theta)*150); self:z(math.cos(theta)*200); self:x(self:GetZ()/-3); local focus=scale(self:GetZ(),0,200,-1,1); focus=clamp(focus,0,1); local bright=scale(focus,0,1,0.15,1);  self:diffuse(bright,bright,bright,1); local zoomv=scale(focus,0,1,0.0,1); self:zoom(zoomv); end
ScrollerSecondsPerItem=0.01
ScrollerNumItemsToDraw=15
ScrollGainFocusCommand=zoomz,1.1
ScrollLoseFocusCommand=zoomz,1

[ScreenSelectNumPlayers]
Fallback="ScreenSelectStyle"
ChoiceNames=GameModeEnabled() and "1,2" or "0"
Choice0=""
Choice1="style,"..ChoiceSingle()[GetUserPrefN("StylePosition")]..";difficulty,medium;playmode,"..getenv("BattleMode")..";screen,ScreenProfileLoad"
Choice2="style,"..ChoiceVersus()[GetUserPrefN("StylePosition")]..";difficulty,medium;playmode,"..getenv("BattleMode")..";screen,ScreenProfileLoad"
OptionOrderUp="2:1"
OptionOrderDown="1:2"
OptionOrderLeft="2:1"
OptionOrderRight="1:2"
OptionOrderAuto="1:2,2:1"

[ScreenSelectStyleWorkout]
Fallback="ScreenSelectNumPlayers"
ChoiceNames=GetStylesWorkout()
Choice0=""
Choice1="style,"..ChoiceSingle()[GetUserPrefN("StylePosition")]..";difficulty,medium;screen,ScreenProfileLoad"
Choice2="style,"..ChoiceDouble()[GetUserPrefN("StylePosition")]..";difficulty,medium;screen,ScreenProfileLoad"
OptionOrderUp="2:1"
OptionOrderDown="1:2"
OptionOrderLeft="2:1"
OptionOrderRight="1:2"
OptionOrderAuto="1:2,2:1"

[ScoreKeeperNormal]
PercentScoreWeightCheckpointHit=0
PercentScoreWeightCheckpointMiss=0
PercentScoreWeightHeld=IsGame("Pump") and 0 or 5
PercentScoreWeightHitMine=-6
PercentScoreWeightLetGo=0
PercentScoreWeightMiss=-12
PercentScoreWeightW1=5
PercentScoreWeightW2=4
PercentScoreWeightW3=2
PercentScoreWeightW4=0
PercentScoreWeightW5=-6

GradeWeightCheckpointHit=0
GradeWeightCheckpointMiss=0
GradeWeightHeld=IsGame("Pump") and 0 or 5
GradeWeightHitMine=-6
GradeWeightLetGo=0
GradeWeightMiss=-12
GradeWeightW1=5
GradeWeightW2=4
GradeWeightW3=2
GradeWeightW4=0
GradeWeightW5=-6

[ScreenProfileLoad]
ShowHeader=false
ShowFooter=false
NextScreen=Branch.AfterSelectStyle()

[ScreenSelectMusic]
PrevScreen=Branch.ScreenSelectMusicPrevScreen()
OptionsMenuAvailable=AllowOptionsMenu()
WaitForChildrenBeforeTweeningOut=true
ShowStyleIcon=true
ShowStageDisplay=true
ShowHelp=true

HelpBeginCommand=playcommand,"SetHelpText",{ Text = GetScreenSelectMusicHelpText() }
HelpOnCommand=draworder,200;zoom,0.6*WideScreenDiff();shadowlength,1.5;diffusealpha,0;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#9A9999");effectperiod,1.5;sleep,1;linear,0.3;diffusealpha,1
HelpSelectMenuOpenedMessageCommand=%function(self) if DifficultyChangingAvailable() then self:linear(0.125):zoomx(0) end end
HelpSelectMenuClosedMessageCommand=%function(self) if DifficultyChangingAvailable() then self:linear(0.125):zoomx(0.6*WideScreenDiff()) end end

UsePlayerSelectMenu=false
SelectMenuAvailable=SelectMenuAvailable()
ModeMenuAvailable=ModeMenuAvailable()
SelectMenuChangesDifficulty=DifficultyChangingAvailable()

MusicWheelX=SCREEN_CENTER_X-210*WideScreenDiff_(16/10)-SCREEN_WIDTH
MusicWheelY=SCREEN_CENTER_Y-10*WideScreenDiff_(16/10)
MusicWheelOnCommand=zoom,WideScreenDiff_(16/10);decelerate,0.75;addx,SCREEN_WIDTH;ztest,true;z,0;draworder,90
MusicWheelOffCommand=accelerate,0.75;addx,-SCREEN_WIDTH

BannerX=SCREEN_CENTER_X+140*WideScreenDiff()
BannerY=SCREEN_CENTER_Y-91*WideScreenDiff()
BannerOnCommand=zoom,(isOutFoxV() or not (isEtterna() or bannerForced)) and 1*WideScreenDiff() or 0;draworder,-1;scaletoclipped,320,120;addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;zwrite,true;ztest,true;
BannerOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

BannerReflectionX=SCREEN_CENTER_X+140*WideScreenDiff()
BannerReflectionY=SCREEN_CENTER_Y+26*WideScreenDiff()
BannerReflectionOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
BannerReflectionOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

ArtistDisplayX=SCREEN_CENTER_X-14*WideScreenDiff()
ArtistDisplayY=SCREEN_CENTER_Y-6*WideScreenDiff()
ArtistDisplayOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
ArtistDisplayOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

BPMDisplayX=SCREEN_CENTER_X+295*WideScreenDiff()
BPMDisplayY=SCREEN_CENTER_Y-6*WideScreenDiff()
#BPMDisplayOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
#BPMDisplayOffCommand=stoptweening;stopeffect;accelerate,0.75;addx,SCREEN_WIDTH

MODDisplayX=SCREEN_CENTER_X+295*WideScreenDiff()
MODDisplayY=SCREEN_CENTER_Y-6*WideScreenDiff()
#MODDisplayOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
#MODDisplayOffCommand=stoptweening;stopeffect;accelerate,0.75;addx,SCREEN_WIDTH

InfoDisplayX=SCREEN_CENTER_X+140*WideScreenDiff()
InfoDisplayY=SCREEN_CENTER_Y-6*WideScreenDiff()
InfoDisplayOnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
InfoDisplayOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

ShowStepsDisplayList=not GAMESTATE:IsCourseMode()
StepsDisplayListX=SCREEN_CENTER_X+132*WideScreenDiff()
StepsDisplayListY=SCREEN_CENTER_Y+24*WideScreenDiff()
StepsDisplayListOnCommand=zoom,0.94*WideScreenDiff();addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
StepsDisplayListOffCommand=accelerate,0.75;addx,SCREEN_WIDTH
StepsDisplayListShowCommand=
StepsDisplayListHideCommand=

ShowCourseContentsList=GAMESTATE:IsCourseMode()
CourseContentsListX=SCREEN_CENTER_X+114*WideScreenDiff()
CourseContentsListY=SCREEN_CENTER_Y+24*WideScreenDiff()
CourseContentsListOnCommand=shadowlength,0;zoom,0.5*WideScreenDiff();addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
CourseContentsListOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

TriangleX=SCREEN_CENTER_X-60*WideScreenDiff()
TriangleY=SCREEN_CENTER_Y-10*WideScreenDiff()

StepsDisplayP1X=SCREEN_CENTER_X-67*WideScreenDiff()
StepsDisplayP1Y=SCREEN_BOTTOM-92*WideScreenDiff()
StepsDisplayP1OnCommand=draworder,101;shadowlength,0;zoom,0;sleep,1.25;bounceend,0.3;zoom,0.9*WideScreenDiff();skewx,1
StepsDisplayP1OffCommand=bouncebegin,0.2;zoom,0
StepsDisplayP2X=SCREEN_CENTER_X+67*WideScreenDiff()
StepsDisplayP2Y=SCREEN_BOTTOM-92*WideScreenDiff()
StepsDisplayP2OnCommand=draworder,101;shadowlength,0;zoom,0;sleep,1.25;bounceend,0.3;zoom,0.9*WideScreenDiff();skewx,-1
StepsDisplayP2OffCommand=bouncebegin,0.2;zoom,0

SongOptionsX=SCREEN_CENTER_X
SongOptionsY=SCREEN_BOTTOM-32*WideScreenDiff()
SongOptionsOnCommand=visible,false;zoom,0.5*WideScreenDiff();shadowlength,2;diffuse,1,1,1,0;linear,0.5;diffuse,1,1,1,1
SongOptionsOffCommand=linear,0.5;diffuse,1,1,1,0

SongTimeX=SCREEN_CENTER_X+248*WideScreenDiff()
SongTimeY=SCREEN_CENTER_Y-43*WideScreenDiff()
SongTimeOnCommand=zoom,0.50*WideScreenDiff();shadowlength,0;addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
SongTimeOffCommand=accelerate,0.75;addx,SCREEN_WIDTH

CourseHasModsX=SCREEN_CENTER_X-14*WideScreenDiff()
CourseHasModsY=SCREEN_CENTER_Y-36*WideScreenDiff()
CourseHasModsOnCommand=diffusealpha,0;zoom,0.8*WideScreenDiff();sleep,1;linear,0.1;zoom,0.5*WideScreenDiff();diffusealpha,1;shadowlength,0
CourseHasModsOffCommand=linear,0.1;diffusealpha,0
CourseHasModsShowCommand=visible,1
CourseHasModsHideCommand=visible,0

UseOptionsList=true
OptionsListP1OnCommand=x,SCREEN_CENTER_X-220*WideScreenDiff();y,SCREEN_CENTER_Y-127*WideScreenDiff()
OptionsListP1OffCommand=
OptionsListP2OnCommand=x,SCREEN_CENTER_X+220*WideScreenDiff();y,SCREEN_CENTER_Y-127*WideScreenDiff()
OptionsListP2OffCommand=

[OptionsList]
Fallback="ScreenWithMenuElements"

TextOnCommand=maxwidth,135;diffusealpha,1;draworder,100;zoom,0.6*WideScreenDiff();shadowlength,1;
TextOffCommand=diffusealpha,0;
TextTweenOnCommand=stoptweening;diffusealpha,0;linear,0.2;diffusealpha,1;
TextTweenOffCommand=stoptweening;linear,0.2;diffusealpha,0;
TextResetCommand=

UnderlineOnCommand=diffusealpha,1;zoom,WideScreenDiff()
UnderlineOffCommand=diffusealpha,0;
UnderlineSetTwoRowsCommand=stoptweening;cropright,0.5;addx,41.5*WideScreenDiff();
UnderlineSetOneRowCommand=stoptweening;cropright,0;
UnderlineShowCommand=visible,true
UnderlineHideCommand=visible,false
UnderlineTweenOnCommand=draworder,101;stoptweening;linear,0.2;diffusealpha,1
UnderlineTweenOffCommand=draworder,101;stoptweening;linear,0.2;diffusealpha,0
UnderlineResetCommand=diffusealpha,1;

CursorOnCommand=
CursorPositionTwoRowsCommand=stoptweening;zoomx,0.5*WideScreenDiff()
CursorPositionOneRowCommand=stoptweening;zoomx,1*WideScreenDiff()
CursorTweenOnCommand=stoptweening;linear,0.2;diffusealpha,1
CursorTweenOffCommand=stoptweening;linear,0.2;diffusealpha,0
CursorResetCommand=

OptionsListOnCommand=
OptionsListOffCommand=
OptionsListTweenOffCommand=playcommandonleaves,"FadeOff"
OptionsListTweenOnCommand=playcommandonleaves,"FadeOn"
OptionsListResetCommand=

OptionsListTweenOutForwardCommand=playcommandonleaves,"FadeOff"
OptionsListTweenOutBackwardCommand=playcommandonleaves,"FadeOff"
OptionsListTweenInForwardCommand=playcommandonleaves,"FadeOn"
OptionsListTweenInBackwardCommand=playcommandonleaves,"FadeOn"

OptionsListFadeOffCommand=stoptweening;linear,0.2;diffusealpha,0
OptionsListFadeOnCommand=stoptweening;linear,0.2;diffusealpha,1

PrevMenuButton=GetOptionsListMapping("PrevMenu")
NextMenuButton=GetOptionsListMapping("NextMenu")
PrevItemButton=GetOptionsListMapping("PrevItem")
NextItemButton=GetOptionsListMapping("NextItem")
CodeNames=

TopMenus=GAMESTATE:IsCourseMode() and "CourseMenu" or "SongMenu"
TopMenu=GAMESTATE:IsCourseMode() and "CourseMenu" or "SongMenu"

DirectLines=""

ItemsSpacingY=24*WideScreenDiff()
MaxItemsBeforeSplit=14
ItemsSplitWidth=82.5*WideScreenDiff()

LineSongMenu="list,SongMenu"
LineCourseMenu="list,CourseMenu"

LineAutoVelocity="lua,ArbitrarySpeedMods()"
LinePersp="list,Persp"
LineScroll="list,Scroll"
LineFail="list,Fail"
LineFailV="list,FailV"
LineOptionFlare="lua,OptionFlare()"
LineNoteSkins="list,NoteSkins"
LineAccel="list,Accel"
LineReceptorEffects="list,ReceptorEffects"
LineReceptorEffects2="list,ReceptorEffects2"
LineReceptorEffectsE="list,ReceptorEffectsE"
LineArrowEffects="list,ArrowEffects"
LineArrowEffects2="list,ArrowEffects2"
LineArrowEffects3="list,ArrowEffects3"
LineArrowEffects4="list,ArrowEffects4"
LineArrowEffectsE="list,ArrowEffectsE"
LineRotation="list,Rotation"
LineAppearance="list,Appearance"
LineOptionOrientation="lua,OptionOrientation()"
LineOptionOrientationRestricted="lua,OptionOrientationRestricted()"
LineOptionPlayfield="lua,OptionPlayfield()"
LineHandicap="list,Handicap"
LineHandicap2="list,Handicap2"
LineTurn="list,Turn"
LineInsert="list,Insert"
LineHolds="list,Holds"
LineMiniList="list,MiniList"
LineBGChanges="list,BGChanges"
LineMines="list,Mines"
LineAttacks="list,Attacks"
LineHide="list,Hide"
LineOptionTournamentOptions="lua,OptionTournamentOptions()"
LineOptionUnderFieldOptions="lua,OptionUnderFieldOptions()"
LineOptionMovePlayerStats="lua,OptionMovePlayerStats()"
LineOptionSetScoreType="lua,OptionSetScoreType()"
LineOptionRowScreenFilter="lua,OptionRowScreenFilter()"
LineOptionShowStats="lua,OptionShowStats()"
LineOptionShowNoteGraph="lua,OptionShowNoteGraph()"
LineOptionSetPacemaker="lua,OptionSetPacemaker()"
LineOptionShowAssists="lua,OptionShowAssists()"
LineOptionShowModifiers="lua,OptionShowModifiers()"
LineOptionSongFrame="lua,OptionSongFrame()"
LineTimingScale="list,TimingScale"
LineRate="list,Rate"

LineGroupedEffects="list,GroupedEffects"
LineGroupedEffectsE="list,GroupedEffectsE"
LineGroupedManipulation="list,GroupedManipulation"
LineGroupedLuaAdditionals="list,GroupedLuaAdditionals"

[OptionsListP1]
Fallback="OptionsList"

[OptionsListP2]
Fallback="OptionsList"

[MusicWheel]
NumWheelItems=math.ceil(14/WideScreenDiff_(16/10))
ShowRandom=true
ShowPortal=true
ShowRoulette=false

ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:x( (1-math.cos(offsetFromCenter/math.pi))*65 ); \
	if isFinal() then \
		self:y( offsetFromCenter*40 + (math.abs(offsetFromCenter) < 1 and offsetFromCenter*10 or (offsetFromCenter < 0 and -10 or 10)) ); \
		self:zoom(math.abs(offsetFromCenter) < 1 and 1+(0.25*-math.abs(offsetFromCenter)) or 0.75);\
	else \
		self:y( offsetFromCenter*40 ); \
	end \
end

HighlightOnCommand=blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFFFF");effectcolor2,color("#000000");effectoffset,0;effectclock,'beat'

ScrollBarHeight=300
ScrollBarOnCommand=visible,false

RandomColor=color("#FFDD00")
PortalColor=color("#FFDD00")

ModeMenuChoiceNames=ModeMenu()

ChoiceMeter="sort,Meter"
ChoiceBeginnerMeter="sort,BeginnerMeter"

ChoiceDance="playmode,regular"
ChoiceBattle="playmode,battle"
ChoiceRave="playmode,rave"

EnableFavsOnWheel=true
#EnableFavsOnWheel=false

[MusicWheelItem]
SongNameX=104
SongNameY=0
SongNameOnCommand=

WheelNotifyIconX=0
WheelNotifyIconOnCommand=

FavoriteExpandedX=72
FavoriteExpandedY=0
FavoriteExpandedOnCommand=shadowlength,2.5;zoom,0.6;halign,1;shadowlength,2;maxwidth,WideScaleFixed(SCREEN_WIDTH/2.1,SCREEN_WIDTH/1.85)/WideScreenDiff_(16/10)

FavoriteCollapsedX=72
FavoriteCollapsedY=0
FavoriteCollapsedOnCommand=shadowlength,2.5;zoom,0.6;halign,1;shadowlength,2;maxwidth,WideScaleFixed(SCREEN_WIDTH/2.1,SCREEN_WIDTH/1.85)/WideScreenDiff_(16/10)

FavoriteCountX=97
FavoriteCountY=0
FavoriteCountOnCommand=shadowlength,2.5;zoom,0.4;halign,1;shadowlength,2;diffuse,color("#00FFFF")

SectionExpandedX=72
SectionExpandedY=0
SectionExpandedOnCommand=shadowlength,2.5;zoom,0.6;halign,1;shadowlength,2;maxwidth,WideScaleFixed(SCREEN_WIDTH/2.1,SCREEN_WIDTH/1.85)/WideScreenDiff_(16/10)

SectionCollapsedX=72
SectionCollapsedY=0
SectionCollapsedOnCommand=shadowlength,2.5;zoom,0.6;halign,1;shadowlength,2;maxwidth,WideScaleFixed(SCREEN_WIDTH/2.1,SCREEN_WIDTH/1.85)/WideScreenDiff_(16/10)

SectionCountX=97
SectionCountY=0
SectionCountOnCommand=shadowlength,2.5;zoom,0.4;halign,1;shadowlength,2;diffuse,color("#00FFFF")

CourseX=96
CourseY=0
CourseOnCommand=zoom,0.6;halign,1;shadowlength,2

RandomX=110
RandomOnCommand=zoom,0.6;halign,1;shadowlength,1

PortalX=110
PortalOnCommand=zoom,0.6;halign,1;shadowlength,1

SortX=96
SortY=0
SortOnCommand=shadowlength,2.5;zoom,0.6;halign,1;shadowlength,2;maxwidth,SCREEN_WIDTH/1.85

ModeX=96
ModeY=0
ModeOnCommand=shadowlength,2.5;zoom,0.6;halign,1;shadowlength,2;maxwidth,SCREEN_WIDTH/1.85

[TextBanner]
TitleX=104
TitleOnCommand=zoom,0.6;shadowlength,1;halign,1;maxwidth,SCREEN_WIDTH/(1/3*5)/WideScreenDiff_(16/10)
SubtitleX=104
SubtitleOnCommand=zoom,0.42;shadowlength,1;halign,1;maxwidth,SCREEN_WIDTH/(1/6*7)/WideScreenDiff_(16/10)
AfterSetCommand=%TextBannerAfterSet

[TextBannerEditMode]
TitleX=104
TitleOnCommand=zoom,0.6*WideScreenDiff_(16/10);shadowlength,1;halign,1;maxwidth,SCREEN_WIDTH/(1/2*5)/WideScreenDiff_(16/10)
SubtitleX=104
SubtitleOnCommand=zoom,0.42*WideScreenDiff_(16/10);shadowlength,1;halign,1;maxwidth,SCREEN_WIDTH/(1/4*7)/WideScreenDiff_(16/10)

[CourseTextBanner]
Fallback="TextBanner"
TitleOnCommand=x,-130;shadowlength,0;halign,0;maxwidth,410;
SubtitleOnCommand=x,-130;y,12;zoom,0.5;shadowlength,0;halign,0
ArtistOnCommand=visible,false
AfterSetCommand=%CourseTextBannerAfterSet

[BPMDisplay]
Cycle=false
NoBpmText="..."
RandomText="..."
VariousText="Various"

SetNoBpmCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetNormalCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetChangeCommand=stoptweening;stopeffect;diffuse,color("#d8f6ffFF");maxwidth,120
SetRandomCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120
SetExtraCommand=stoptweening;stopeffect;diffuse,color("#FFFFFFFF");maxwidth,120

[StepsDisplay]
ShowMeter=true
MeterX=0
MeterY=0
MeterSetCommand=%function(self,param) \
	if ThemePrefs.Get("ShowCalcDiff") and param.Steps then \
		self:settext(getCalculatedDifficulty(param.Steps)):vertspacing(-10):maxheight(30) \
	end \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
		self:diffusetopedge(ContrastingDifficultyColor(param.CustomDifficulty)) \
		self:maxwidth(50) \
	end \
end

ShowTicks=false
ShowDescription=false

[StepsDisplayList]
ItemsSpacingY=18.5
NumShownItems=5
CapitalizeDifficultyNames=true
MoveCommand=finishtweening;linear,0.3

[StepsDisplayListRow]
ShowDescription=true
DescriptionX=-49
DescriptionY=0
DescriptionOnCommand=halign,1;zoom,0.5;shadowlength,2*WideScreenDiff();maxwidth,112
DescriptionSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
		self:uppercase( param.CustomDifficulty ~= "Edit" ) \
	end \
	if param.Steps and param.CustomDifficulty == "Edit" and param.Steps:GetDescription() == "" then \
		self:settext("Untitled") \
	end \
end

ShowTicks=true
NumTicks=20
MaxTicks=20
TicksX=-47
TicksY=1
TicksOnCommand=%function(self) \
	self:zoomx(0.6):halign(0):shadowlength(1*WideScreenDiff()) \
	if isFinal() and isOutFox() and VersionDateCheck(20221200) then \
		self:LoadFromFont(THEME:GetPathF("StepsDisplayListRow", "final ticks")) \
	end \
end
TicksSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)) \
		if param.Meter > 20 then \
			if param.CustomDifficulty == "Edit" then \
				self:diffuseramp():effectperiod(1):effectoffset(0.20):effectclock("beat"):effectcolor1(color("#808080")):effectcolor2(Color("White")) \
			else \
				self:diffuseramp():effectperiod(1):effectoffset(0.20):effectclock("beat"):effectcolor1(CustomDifficultyToColor(param.CustomDifficulty)):effectcolor2(Color("White")) \
			end \
		else \
			self:stopeffect() \
		end \
	end \
end

ShowMeter=true
MeterX=123
MeterY=0
MeterOnCommand=zoom,0.5;shadowlength,2*WideScreenDiff()
MeterSetCommand=%function(self,param) \
	if ThemePrefs.Get("ShowCalcDiff") and param.Steps then \
		self:settext(getCalculatedDifficulty(param.Steps)):vertspacing(-10):maxheight(36) \
	end \
	if param.CustomDifficulty then \
		self:diffuse(CustomDifficultyToColor(param.CustomDifficulty)):halign(0) \
	end \
	if GAMESTATE:GetNumSidesJoined() == 2 or GAMESTATE:GetMasterPlayerNumber() == PLAYER_2 then \
		self:maxwidth(40) \
	end \
end

[ScreenSelectCourse]
Fallback="ScreenSelectMusic"

[ScreenPlayerOptions]
NextScreen=Branch.BeforeGameplay()
Fallback="ScreenOptions"
Class="ScreenPlayerOptions"
ShowStyleIcon=true
ShowStageDisplay=true
ShowHelp=true

LineNames=SongMods()

Line0="list,LifeType"
Line0DDR="list,LifeTypeDDR"
Line2="list,Persp"
Line4="list,Scroll"
LineF="list,Fail"
LineFV="list,FailV"
LineFlare="lua,OptionFlare()"
Line3="list,NoteSkins"
Line5="list,Accel"
LineRE="list,ReceptorEffects"
LineRE2="list,ReceptorEffects2"
LineREE="list,ReceptorEffectsE"
LineAE="list,ArrowEffects"
LineAE2="list,ArrowEffects2"
LineAE3="list,ArrowEffects3"
LineAE4="list,ArrowEffects4"
LineAEE="list,ArrowEffectsE"
Line17="list,Rotation"
Line9="list,Appearance"
Line22="lua,OptionOrientation()"
Line22R="lua,OptionOrientationRestricted()"
Line23="lua,OptionPlayfield()"
Line10="list,Handicap"
Line11="list,Handicap2"
Line12="list,Turn"
Line13="list,Insert"
Line14="list,Holds"
Line7="list,MiniList"
LineBGC="list,BGChanges"
LineM="list,Mines"
LineA="list,Attacks"
Line15="list,Hide"
Line19="lua,OptionTournamentOptions()"
Line28="lua,OptionUnderFieldOptions()"
Line30="lua,OptionMovePlayerStats()"
LineS="lua,OptionSetScoreType()"
Line25="lua,OptionRowScreenFilter()"
Line20="lua,OptionShowStats()"
Line20G="lua,OptionShowNoteGraph()"
LineP="lua,OptionSetPacemaker()"
Line29="lua,OptionShowAssists()"
Line21="lua,OptionShowModifiers()"
Line31="lua,OptionSongFrame()"
Line27="list,TimingScale"
Line24="list,Rate"
Line16="list,Steps"

ExplanationP1X=SCREEN_CENTER_X-288*WideScreenDiff()
ExplanationP1Y=SCREEN_CENTER_Y+134*WideScreenDiff()
ExplanationP1OnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,550;valign,0;halign,0;shadowlength,2;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_1)

[ScreenPlayerOptionsRestricted]
NextScreen=Branch.AfterProfileSave()
Fallback="ScreenPlayerOptions"
LineNames=SongMods()

[ScreenOptionsCustomizeProfile]
ShowHeader=true
ShowHelp=true

[ScreenAvatarImageSelection]
Fallback="ScreenWithMenuElements"
NextScreen="ScreenOptionsCustomizeProfile"
PrevScreen="ScreenOptionsCustomizeProfile"
ShowHelp=true

[ScreenSetBGFit]
Fallback="ScreenOptionsService"
NextScreen="ScreenOptionsDisplaySub"
PrevScreen="ScreenOptionsDisplaySub"

[ScreenAppearanceOptions]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsDisplaySub"
PrevScreen="ScreenOptionsDisplaySub"
LineNames=not isEtterna() and "1,2,3,4,4E,5,14,15,SB,17,18,19" or "1,2,3,14,15,SB,19"
Line1="conf,Language"
Line2="conf,Announcer"
Line3="conf,Theme"
Line4="conf,DefaultNoteSkin"
Line4E="lua,EditorNoteskin()"
Line5="conf,PercentageScoring"
Line14="conf,RandomBackgroundMode"
Line15="conf,BGBrightness"
LineSB="conf,BackgroundFitMode"
Line17="conf,ShowDancingCharacters"
Line18="conf,ShowBeginnerHelper"
Line19="conf,NumBackgrounds"

[ScreenOptionsUI]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsDisplaySub"
PrevScreen="ScreenOptionsDisplaySub"

[ScreenOverscanConfig]
NextScreen="ScreenOptionsDisplaySub"
PrevScreen="ScreenOptionsDisplaySub"
ShowHelp=true

[ScreenOptionsTheme]
Fallback="ScreenOptionsServiceChild"

[ScreenStageInformation]
NextScreen=Branch.AfterStageInformation()
TimerSeconds=1
TimerStealth=true
ShowHeader=false
ShowFooter=false

[ScreenLoadGameplayElements]
Fallback="ScreenStageInformation"
NextScreen=Branch.AfterStageInformation()
TimerSeconds=-1
TimerStealth=true

[ScreenGameplay]
ShowHeader=false
ShowFooter=false
AllowCenter1Player=false
FailOnMissCombo=30

MinSecondsToStep=GAMESTATE:IsCourseMode() and 1.55 or GetMinSecondsToStep()
MinSecondsToMusic=0
MinSecondsToStepNextSong=1

LifeP1X=SCREEN_LEFT+(isFinal() and WideScaleFixed(20*WideScreenDiff(),35*WideScreenDiff()) or 20*WideScreenDiff())
LifeP1Y=OffsetLifebarHeight(PLAYER_1)
LifeP1OnCommand=visible,not getenv("HideLifeP1");diffusealpha,IsGame("pump") and 0 or 1;zoom,WideScreenDiff();rotationz,-90;addx,-100;sleep,0.5;decelerate,0.8;addx,100;draworder,-1;
LifeP1OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(1); end self:accelerate(0.4); self:addx(-100); end

LifeP2X=SCREEN_RIGHT-(isFinal() and WideScaleFixed(20*WideScreenDiff(),35*WideScreenDiff()) or 20*WideScreenDiff())
LifeP2Y=OffsetLifebarHeight(PLAYER_2)
LifeP2OnCommand=visible,not getenv("HideLifeP2");diffusealpha,IsGame("pump") and 0 or 1;zoom,WideScreenDiff();rotationz,90;zoomx,-1*WideScreenDiff();addx,100;sleep,0.5;decelerate,0.8;addx,-100;draworder,-1;
LifeP2OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(1); end self:accelerate(0.4); self:addx(100); end

CombinedLifeX=SCREEN_CENTER_X
CombinedLifeY=SCREEN_TOP+69*WideScreenDiff()
CombinedLifeOnCommand=visible,not IsGame("pump");zoom,WideScreenDiff();addy,-100;sleep,0.5;decelerate,0.8;addy,100
CombinedLifeOffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(1); end self:accelerate(0.8); self:addy(-100); end

ScoreP1X=math.floor(scale(0.25,0,1,SCREEN_LEFT,SCREEN_RIGHT))
ScoreP1Y=SCREEN_TOP+61*WideScreenDiff()
ScoreP1OnCommand=hibernate,(isOni() and not isLifeline(PLAYER_1)) and 0 or math.huge;addy,IsGame("pump") and 10 or 0;addx,(IsGame("pump") and getenv("RotationP1") == 5) and SCREEN_CENTER_X/2 or 0;zoom,WideScreenDiff();visible,not getenv("HideScoreP1");diffuse,PlayerColor(PLAYER_1);addy,-100;sleep,0.5;decelerate,0.8;addy,100;
ScoreP1OffCommand=%function(self) if not IsGame("pump") then if AnyPlayerFullComboed() then self:sleep(1) end self:accelerate(0.8):addy(-100) end end

ScoreP2X=math.floor(scale(0.75,0,1,SCREEN_LEFT,SCREEN_RIGHT))
ScoreP2Y=SCREEN_TOP+61*WideScreenDiff()
ScoreP2OnCommand=hibernate,(isOni() and not isLifeline(PLAYER_2)) and 0 or math.huge;addy,IsGame("pump") and 10 or 0;addx,(IsGame("pump") and getenv("RotationP2") == 5) and SCREEN_CENTER_X/2 or 0;zoom,WideScreenDiff();visible,not getenv("HideScoreP2");diffuse,PlayerColor(PLAYER_2);addy,-100;sleep,0.5;decelerate,0.8;addy,100;
ScoreP2OffCommand=%function(self) if not IsGame("pump") then if AnyPlayerFullComboed() then self:sleep(1) end self:accelerate(0.8):addy(-100) end end

StepsDisplayP1X=SCREEN_CENTER_X-240*WideScreenDiff()
StepsDisplayP1Y=SCREEN_TOP+28*WideScreenDiff()
StepsDisplayP1OnCommand=draworder,100;zoom,WideScreenDiff();addx,-SCREEN_WIDTH/2;sleep,2;decelerate,0.5;addx,SCREEN_WIDTH/2
StepsDisplayP1OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(1) end self:accelerate(0.8):addx(-SCREEN_WIDTH/2) end

StepsDisplayP2X=SCREEN_CENTER_X+240*WideScreenDiff()
StepsDisplayP2Y=SCREEN_TOP+28*WideScreenDiff()
StepsDisplayP2OnCommand=draworder,100;zoom,WideScreenDiff();addx,SCREEN_WIDTH/2;sleep,2;decelerate,0.5;addx,-SCREEN_WIDTH/2
StepsDisplayP2OffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(1) end self:accelerate(0.8):addx(SCREEN_WIDTH/2) end

ShowStageDisplay=true
StageDisplayX=SCREEN_CENTER_X
StageDisplayY=SCREEN_CENTER_Y+60*WideScreenDiff()
StageDisplayOnCommand=draworder,105;zoom,1*WideScreenDiff();sleep,1.2;linear,0.3;zoom,0.5*WideScreenDiff();y,SCREEN_BOTTOM-40
StageDisplayOffCommand=accelerate,0.8;addy,150

SecondaryScoreP1X=SCREEN_CENTER_X-14*WideScreenDiff()
SecondaryScoreP1Y=SCREEN_CENTER_Y+32*WideScreenDiff()
SecondaryScoreP2X=SCREEN_CENTER_X+14*WideScreenDiff()
SecondaryScoreP2Y=SCREEN_CENTER_Y+32*WideScreenDiff()

BPMDisplayX=SCREEN_CENTER_X
BPMDisplayY=SCREEN_TOP+62*WideScreenDiff()
BPMDisplayOnCommand=zoom,WideScreenDiff();addy,-100;sleep,0.5;decelerate,0.8;addy,100
BPMDisplayOffCommand=%function(self) if AnyPlayerFullComboed() then self:sleep(1); end self:accelerate(0.8):addy(-100) end

ActiveAttackListP1X=isVS() and SCREEN_CENTER_X-30*WideScreenDiff() or SCREEN_CENTER_X-15*WideScreenDiff()
ActiveAttackListP1Y=SCREEN_CENTER_X-80*WideScreenDiff()
ActiveAttackListP1OnCommand=zoom,0.5*WideScreenDiff();shadowlength,2;horizalign,right;vertalign,bottom;draworder,-1;visible,getenv("ShowModsP1") or false
ActiveAttackListP1OffCommand=
ActiveAttackListP2X=isVS() and SCREEN_CENTER_X+30*WideScreenDiff() or SCREEN_CENTER_X+15*WideScreenDiff()
ActiveAttackListP2Y=SCREEN_CENTER_X-80*WideScreenDiff()
ActiveAttackListP2OnCommand=zoom,0.5*WideScreenDiff();shadowlength,2;horizalign,left;vertalign,bottom;draworder,-1;visible,getenv("ShowModsP2") or false
ActiveAttackListP2OffCommand=

PlayerP1OnePlayerOneSideX=math.floor(scale(0.25,0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP2OnePlayerOneSideX=math.floor(scale(0.75,0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP1TwoPlayersTwoSidesX=math.floor(scale(0.25,0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP2TwoPlayersTwoSidesX=math.floor(scale(0.75,0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP1TwoPlayersOneSideX=math.floor(scale(0.25,0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP2TwoPlayersOneSideX=math.floor(scale(0.75,0,1,SCREEN_LEFT,SCREEN_RIGHT))
PlayerP1OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP2OnePlayerTwoSidesX=SCREEN_CENTER_X
PlayerP1TwoPlayersSharedSidesX=SCREEN_CENTER_X
PlayerP2TwoPlayersSharedSidesX=SCREEN_CENTER_X

LyricDisplaySetNoReverseCommand=x,SCREEN_CENTER_X+0;y,SCREEN_CENTER_Y+160;zoom,WideScreenDiff()
LyricDisplaySetReverseCommand=x,SCREEN_CENTER_X+0;y,SCREEN_CENTER_Y-140;zoom,WideScreenDiff()
LyricDisplaySetOneReverseCommand=x,SCREEN_CENTER_X+0;y,SCREEN_CENTER_Y-205;zoom,WideScreenDiff()

DebugOnCommand=zoom,0.75*WideScreenDiff();shadowlength,1

ScoreboardC1P1X=0
ScoreboardC1P1Y=SCREEN_CENTER_Y*0.45*WideScreenDiff()
ScoreboardC1P1OnCommand=halign,0;zoom,getenv("RotationP2") == 5 and 0.825*WideScreenDiff()/3*2 or 0.825*WideScreenDiff();strokecolor,Color("Outline");shadowlength,1;maxwidth,240
ScoreboardC2P1X=getenv("RotationP2") == 5 and SCREEN_WIDTH/6 or SCREEN_CENTER_X*0.5
ScoreboardC2P1Y=SCREEN_CENTER_Y*0.45*WideScreenDiff()
ScoreboardC2P1OnCommand=halign,0;zoom,getenv("RotationP2") == 5 and 0.825*WideScreenDiff()/3*2 or 0.825*WideScreenDiff();strokecolor,Color("Outline");shadowlength,1
ScoreboardC3P1X=getenv("RotationP2") == 5 and SCREEN_WIDTH/4 or SCREEN_CENTER_X*0.75
ScoreboardC3P1Y=SCREEN_CENTER_Y*0.45*WideScreenDiff()
ScoreboardC3P1OnCommand=halign,0;zoom,getenv("RotationP2") == 5 and 0.825*WideScreenDiff()/3*2 or 0.825*WideScreenDiff();strokecolor,Color("Outline");shadowlength,1

ScoreboardC1P2X=getenv("RotationP1") == 5 and SCREEN_WIDTH/3*2-(getenv("ShowNoteGraphP1") > 1 and SCREEN_CENTER_X/4*5 or 0) or SCREEN_CENTER_X-(getenv("ShowNoteGraphP1") > 1 and 64 or 0)
ScoreboardC1P2Y=SCREEN_CENTER_Y*0.45*WideScreenDiff()
ScoreboardC1P2OnCommand=halign,0;zoom,getenv("RotationP1") == 5 and 0.825*WideScreenDiff()/3*2 or 0.825*WideScreenDiff();strokecolor,Color("Outline");shadowlength,1;maxwidth,240
ScoreboardC2P2X=getenv("RotationP1") == 5 and SCREEN_WIDTH/3*2+(SCREEN_WIDTH/6)-(getenv("ShowNoteGraphP1") > 1 and SCREEN_CENTER_X/4*5 or 0) or SCREEN_CENTER_X+(SCREEN_CENTER_X*0.5)-(getenv("ShowNoteGraphP1") > 1 and 64 or 0)
ScoreboardC2P2Y=SCREEN_CENTER_Y*0.45*WideScreenDiff()
ScoreboardC2P2OnCommand=halign,0;zoom,getenv("RotationP1") == 5 and 0.825*WideScreenDiff()/3*2 or 0.825*WideScreenDiff();strokecolor,Color("Outline");shadowlength,1
ScoreboardC3P2X=getenv("RotationP1") == 5 and SCREEN_WIDTH/3*2+(SCREEN_WIDTH/4)-(getenv("ShowNoteGraphP1") > 1 and SCREEN_CENTER_X/4*5 or 0) or SCREEN_CENTER_X+(SCREEN_CENTER_X*0.75)-(getenv("ShowNoteGraphP1") > 1 and 64 or 0)
ScoreboardC3P2Y=SCREEN_CENTER_Y*0.45*WideScreenDiff()
ScoreboardC3P2OnCommand=halign,0;zoom,getenv("RotationP1") == 5 and 0.825*WideScreenDiff()/3*2 or 0.825*WideScreenDiff();strokecolor,Color("Outline");shadowlength,1

CodeNames=ThemePrefs.Get("ShowGameplaySpeed") and "SpeedUp,SpeedUp2=SpeedUp,SpeedUp3=SpeedUp,SpeedDown,SpeedDown2=SpeedDown,SpeedDown3=SpeedDown" or ""
CodeSpeedUp="EffectUp"
CodeSpeedUp2="@Select-Right"
CodeSpeedUp3="@Select-MenuRight"
CodeSpeedDown="EffectDown"
CodeSpeedDown2="@Select-Left"
CodeSpeedDown3="@Select-MenuLeft"

MarginFunction=GameplayMarginsFix

[ScreenCreditsGameplay]
PrevScreen="ScreenOptionsService"
NextScreen="ScreenCompany"

[ScreenGameplayWorkout]
Fallback="ScreenGameplay"
NextScreen=Branch.AfterGameplayWorkout()
PrevScreen=Branch.AfterWorkoutMenu()

[CombinedLifeMeterTug]
MeterWidth=358
MeterHeight=40

[Player]
ReceptorArrowsYStandard=-125
ReceptorArrowsYReverse=145
ComboUnderField=getenv("UnderComboP1") or getenv("UnderComboP2")
TapJudgmentsUnderField=getenv("UnderTapJudgmentsP1") or getenv("UnderTapJudgmentsP2")
HoldJudgmentsUnderField=getenv("UnderHoldJudgmentsP1") or getenv("UnderHoldJudgmentsP2")
DrawDistanceBeforeTargetsPixels=math.ceil(SCREEN_HEIGHT/WideScreenDiff())
HoldJudgmentYStandard=IsGame("pump") and -99999 or -90
HoldJudgmentYReverse=IsGame("pump") and -99999 or 90
ComboXOffsetOneSideP1=GetComboXOffset(PLAYER_1)
ComboXOffsetOneSideP2=GetComboXOffset(PLAYER_2)
ComboXOffsetBothSides=GetComboXOffset(GAMESTATE:GetMasterPlayerNumber())
BattleRaveMirror=false

[PlayerTraining]
Fallback="Player"
ComboOnCommand=visible,false

[HoldJudgment]
HoldJudgmentLetGoCommand=%function(self,param) self:x(0):rotationz( 20 * HoldEvenOdd(param.Player) ):diffuse(color("1,1,1,1")):zoom(1.25):linear(0.3):zoomx(1):zoomy(1):sleep(0.5):accelerate(0.1):diffuse(color("1,1,1,0")):zoomx(2):zoomy(0) end
HoldJudgmentHeldCommand=%function(self,param) self:x(0):rotationz(0):diffuse(color("1,1,1,1")):zoom(1.25):linear(0.3):zoomx(1):zoomy(1):sleep(0.5):accelerate(0.1):diffuse(color("1,1,1,0")):zoomx(2):zoomy(0) end

[StepsDisplayGameplay]
Fallback="StepsDisplay"

ShowDescription=not IsGame("pump") and true or false
DescriptionY=-1.25
DescriptionOnCommand=zoom,0.5;shadowlength,2*WideScreenDiff();
DescriptionSetCommand=%function(self,param) \
	if param.CustomDifficulty then \
		self:diffuse(ContrastingDifficultyColor(param.CustomDifficulty)):maxwidth(110);\
	end \
	if param.Steps and param.CustomDifficulty == "Edit" and param.Steps:GetDescription() == "" then \
		self:settext("Untitled") \
	end \
end;

ShowMeter=not IsGame("pump") and true or false
MeterX=30
MeterY=-1.25
MeterOnCommand=zoom,0.5;shadowlength,2*WideScreenDiff();
MeterSetCommand=%function(self,param) \
	if ThemePrefs.Get("ShowCalcDiff") and param.Steps then \
		self:settext(getCalculatedDifficulty(param.Steps)):vertspacing(-10):maxheight(30) \
	end \
	if param.CustomDifficulty then \
		self:diffuse(ContrastingDifficultyColor(param.CustomDifficulty)):maxwidth(55);\
	end \
end;

[StepsDisplayGameplay P1]
Fallback="StepsDisplayGameplay"
DescriptionX=-14
MeterX=30-2.5

[StepsDisplayGameplay P2]
Fallback="StepsDisplayGameplay"
DescriptionX=14
MeterX=-30+2.5

[LifeMeterBar]
DangerThreshold=0.3
DangerThresholdNoComment=0.3
FlareInitialValue=1.0

[LifeMeterTime]
MeterHeight=18
MeterWidth=272
MinLifeTime=GAMESTATE:IsCourseMode() and -999 or 10
BackgroundX=0
BackgroundY=0
DangerX=0
DangerY=0

[LifeMeterBattery]
MinScoreToKeepLife="TapNoteScore_W3"
NumLivesP1OnCommand=visible,false
NumLivesP2OnCommand=visible,false
MaxLives=100
HeldAddLives=0
LetGoSubtractLives=0
BatteryP1X=0.01
BatteryP1Y=0.01
BatteryP1OnCommand=rotationz,90
BatteryP2X=0.01
BatteryP2Y=0.01
BatteryP2OnCommand=rotationz,90;zoomx,-0.5
CourseSongRewardLives=0
DangerThreshold=GAMESTATE:IsCourseMode() and 1 or 5
DangerThresholdNoComment=GAMESTATE:IsCourseMode() and 1 or 5

[LifeMeterBattery Percent]
DancePointsP1OnCommand=diffusealpha,0
DancePointsP2OnCommand=diffusealpha,0
PercentP1OnCommand=visible,false
PercentP2OnCommand=visible,false

[StreamDisplay]
NumPills=1
TextureCoordScaleX=1
PillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local native_width=272; \
	local zoomed_width=18; \
	self:zoomtowidth(native_width); \
	self:x(itemIndex*zoomed_width); \
	if isEtterna() then self:texcoordvelocity(-0.8,0) end; \
end
FlarePillTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local native_width=272; \
	local zoomed_width=18; \
	self:zoomtowidth(native_width); \
	self:x(itemIndex*zoomed_width); \
end

[Judgment]
JudgmentW1Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;glowshift;effectperiod,0.05;effectcolor1,color("1,1,1,0");effectcolor2,color("1,1,1,0.5");decelerate,0.1;zoom,1;sleep,0.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW2Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,0.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW3Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,0.4;accelerate,0.1;diffusealpha,0;zoomx,1.5;zoomy,0
JudgmentW4Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,0.4;accelerate,0.1;zoom,0
JudgmentW5Command=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,0.4;accelerate,0.1;zoom,0
JudgmentMissCommand=diffusealpha,1;zoomx,1.3;zoomy,1.7;decelerate,0.1;zoom,1;sleep,0.4;accelerate,0.1;zoom,0

[Combo]
ShowComboAt=4

NumberMinZoom=0.9
NumberMaxZoom=1.4
NumberMaxZoomAt=500
NumberOnCommand=y,20;shadowlength,0;valign,1

LabelOnCommand=y,14;shadowlength,0;valign,0

FullComboW1Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#94EBFE");effectperiod,0.5
FullComboW2Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FDD599");effectperiod,0.5
FullComboW3Command=diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#4dfc8f");effectperiod,0.5
FullComboBrokenCommand=stopeffect
MissComboCommand=stopeffect;diffuseshift;effectcolor1,color("#FF2020");effectcolor2,color("#FF2020");effectperiod,0.5

[ScoreDisplayRave]
MeterP1Y=1
MeterP1OnCommand=zoom,WideScreenDiff();rotationz,-90;glowshift;effectcolor2,color("1,1,1,0.5")
MeterP2Y=1
MeterP2OnCommand=zoom,WideScreenDiff();rotationz,-90;glowshift;effectcolor2,color("1,1,1,0.5")

LevelP1Y=-140*WideScreenDiff()
LevelP1OnCommand=zoom,WideScreenDiff();diffuse,PlayerColor(PLAYER_1)
LevelP2Y=-140*WideScreenDiff()
LevelP2OnCommand=zoom,WideScreenDiff();diffuse,PlayerColor(PLAYER_2)

FrameBaseP1OnCommand=zoom,WideScreenDiff()
FrameBaseP1OffCommand=
FrameBaseP2OnCommand=zoom,WideScreenDiff()
FrameBaseP2OffCommand=

FrameOverP1OnCommand=zoom,WideScreenDiff()
FrameOverP1OffCommand=
FrameOverP2OnCommand=zoom,WideScreenDiff()
FrameOverP2OffCommand=

[ScoreDisplayLifeTime]
DeltaSecondsMaxScoreCommand=

[ScreenEvaluation]
ShowHeader=true
ShowStyleIcon=true
ShowStageDisplay=true

ShowHelp=true
HelpBeginCommand=playcommand,"SetHelpText",{ Text = GetScreenEvaluationHelpText() }
HelpOnCommand=%function(self) self:draworder(200):zoom(0.6*WideScreenDiff()):shadowlength(1.5):diffusealpha(0):diffuseshift():effectcolor1(color("#FFFFFF")):effectcolor2(color("#9A9999")):effectperiod(1.5) if isEtterna() then self:sleep(3) else self:hibernate(3) end self:linear(0.3):diffusealpha(1) end

LargeBannerX=SCREEN_CENTER_X
LargeBannerY=SCREEN_CENTER_Y+135*WideScreenDiff()
LargeBannerOffCommand=stoptweening;linear,0.2;diffusealpha,0
LargeBannerOnCommand=setsize,(isFinal() and 170 or 174)*WideScreenDiff(),(isFinal() and 64 or 68)*WideScreenDiff();ztest,true;cropright,1.3;faderight,0.1;sleep,3;linear,0.7;cropright,-0.3
LargeBannerFrameX=SCREEN_CENTER_X
LargeBannerFrameY=SCREEN_CENTER_Y+135*WideScreenDiff()
LargeBannerFrameOnCommand=zoom,WideScreenDiff();diffusealpha,0;sleep,3;linear,0.5;diffusealpha,1
LargeBannerFrameOffCommand=stoptweening;linear,0.2;diffusealpha,0

ShowGradeArea=true
GradeFrameP1X=SCREEN_CENTER_X-145*WideScreenDiff()
GradeFrameP1Y=SCREEN_CENTER_Y+54*WideScreenDiff()
GradeFrameP1OffCommand=
GradeFrameP1OnCommand=draworder,3
GradeFrameP2X=SCREEN_CENTER_X+145*WideScreenDiff()
GradeFrameP2Y=SCREEN_CENTER_Y+54*WideScreenDiff()
GradeFrameP2OffCommand=
GradeFrameP2OnCommand=draworder,3

ShowGraphArea=1
GraphFrameP1X=
GraphFrameP1Y=
GraphFrameP1OnCommand=draworder,1
GraphFrameP1OffCommand=
GraphFrameP2X=
GraphFrameP2Y=
GraphFrameP2OnCommand=draworder,1
GraphFrameP2OffCommand=

GradeP1X=SCREEN_CENTER_X-160*WideScreenDiff()
GradeP1Y=SCREEN_CENTER_Y-60*WideScreenDiff()
GradeP1OnCommand=visible,not (isOni() and not isLifeline(PLAYER_1));draworder,101;zoom,0;diffusealpha,0;sleep,0.5;bounceend,0.4;zoom,1.8*WideScreenDiff();diffusealpha,1;sleep,2;decelerate,0.5;zoom,0.9*WideScreenDiff();x,SCREEN_CENTER_X-56*WideScreenDiff();y,SCREEN_CENTER_Y+56*WideScreenDiff();fov,90
GradeP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
GradeP2X=SCREEN_CENTER_X+160*WideScreenDiff()
GradeP2Y=SCREEN_CENTER_Y-60*WideScreenDiff()
GradeP2OnCommand=visible,not (isOni() and not isLifeline(PLAYER_2));draworder,101;zoom,0;diffusealpha,0;sleep,0.5;bounceend,0.4;zoom,1.8*WideScreenDiff();diffusealpha,1;sleep,2;decelerate,0.5;zoom,0.9*WideScreenDiff();x,SCREEN_CENTER_X+56*WideScreenDiff();y,SCREEN_CENTER_Y+56*WideScreenDiff();fov,90
GradeP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

ShowJudgmentLineW1=true
W1NumberP1X=SCREEN_CENTER_X-150*WideScreenDiff()
W1NumberP1Y=SCREEN_CENTER_Y-141*WideScreenDiff()
W1NumberP1OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W1NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
W1NumberP2X=SCREEN_CENTER_X+149*WideScreenDiff()
W1NumberP2Y=SCREEN_CENTER_Y-141*WideScreenDiff()
W1NumberP2OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W1NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowJudgmentLineW2=true
W2NumberP1X=SCREEN_CENTER_X-156*WideScreenDiff()
W2NumberP1Y=SCREEN_CENTER_Y-116*WideScreenDiff()
W2NumberP1OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W2NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
W2NumberP2X=SCREEN_CENTER_X+155*WideScreenDiff()
W2NumberP2Y=SCREEN_CENTER_Y-116*WideScreenDiff()
W2NumberP2OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W2NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowJudgmentLineW3=true
W3NumberP1X=SCREEN_CENTER_X-162*WideScreenDiff()
W3NumberP1Y=SCREEN_CENTER_Y-91*WideScreenDiff()
W3NumberP1OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W3NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
W3NumberP2X=SCREEN_CENTER_X+161*WideScreenDiff()
W3NumberP2Y=SCREEN_CENTER_Y-91*WideScreenDiff()
W3NumberP2OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W3NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowJudgmentLineW4=true
W4NumberP1X=SCREEN_CENTER_X-168*WideScreenDiff()
W4NumberP1Y=SCREEN_CENTER_Y-66*WideScreenDiff()
W4NumberP1OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W4NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
W4NumberP2X=SCREEN_CENTER_X+167*WideScreenDiff()
W4NumberP2Y=SCREEN_CENTER_Y-66*WideScreenDiff()
W4NumberP2OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W4NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowJudgmentLineW5=isOpenDDR() and false or true
W5NumberP1X=SCREEN_CENTER_X-174*WideScreenDiff()
W5NumberP1Y=SCREEN_CENTER_Y-41*WideScreenDiff()
W5NumberP1OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W5NumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
W5NumberP2X=SCREEN_CENTER_X+173*WideScreenDiff()
W5NumberP2Y=SCREEN_CENTER_Y-41*WideScreenDiff()
W5NumberP2OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
W5NumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowJudgmentLineMiss=true
MissNumberP1X=isOpenDDR() and SCREEN_CENTER_X-174*WideScreenDiff() or SCREEN_CENTER_X-180*WideScreenDiff()
MissNumberP1Y=isOpenDDR() and SCREEN_CENTER_Y-41*WideScreenDiff() or SCREEN_CENTER_Y-16*WideScreenDiff()
MissNumberP1OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_1);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
MissNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
MissNumberP2X=isOpenDDR() and SCREEN_CENTER_X+173*WideScreenDiff() or SCREEN_CENTER_X+179*WideScreenDiff()
MissNumberP2Y=isOpenDDR() and SCREEN_CENTER_Y-41*WideScreenDiff() or SCREEN_CENTER_Y-16*WideScreenDiff()
MissNumberP2OnCommand=draworder,4;diffuse,PlayerColor(PLAYER_2);diffusealpha,0;zoom,0.7*WideScreenDiff();sleep,3.60;linear,0.4;zoom,0.6*WideScreenDiff();diffusealpha,1
MissNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowDetailArea=true
DetailFrameP1X=
DetailFrameP1Y=
DetailFrameP1OnCommand=
DetailFrameP2X=
DetailFrameP2Y=
DetailFrameP2OnCommand=

NumStepsNumberP1X=
NumStepsNumberP1Y=
NumStepsNumberP1OnCommand=visible,false
NumStepsNumberP2X=
NumStepsNumberP2Y=
NumStepsNumberP2OnCommand=visible,false

JumpsNumberP1X=SCREEN_CENTER_X-28*WideScreenDiff()
JumpsNumberP1Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*0*WideScreenDiff()
JumpsNumberP1OnCommand=maxwidth,175;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
JumpsNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
JumpsNumberP2X=SCREEN_CENTER_X+94*WideScreenDiff()
JumpsNumberP2Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*0*WideScreenDiff()
JumpsNumberP2OnCommand=maxwidth,175;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
JumpsNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

HoldsNumberP1X=SCREEN_CENTER_X-28*WideScreenDiff()
HoldsNumberP1Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*1*WideScreenDiff()
HoldsNumberP1OnCommand=maxwidth,180;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.2;linear,0.8;diffusealpha,1
HoldsNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
HoldsNumberP2X=SCREEN_CENTER_X+94*WideScreenDiff()
HoldsNumberP2Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*1*WideScreenDiff()
HoldsNumberP2OnCommand=maxwidth,180;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.2;linear,0.8;diffusealpha,1
HoldsNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

MinesNumberP1X=SCREEN_CENTER_X-28*WideScreenDiff()
MinesNumberP1Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*2*WideScreenDiff()
MinesNumberP1OnCommand=maxwidth,185;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.4;linear,0.8;diffusealpha,1
MinesNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
MinesNumberP2X=SCREEN_CENTER_X+94*WideScreenDiff()
MinesNumberP2Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*2*WideScreenDiff()
MinesNumberP2OnCommand=maxwidth,185;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.4;linear,0.8;diffusealpha,1
MinesNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

HandsNumberP1X=SCREEN_CENTER_X-28*WideScreenDiff()
HandsNumberP1Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*3*WideScreenDiff()
HandsNumberP1OnCommand=maxwidth,190;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.6;linear,0.8;diffusealpha,1
HandsNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
HandsNumberP2X=SCREEN_CENTER_X+94*WideScreenDiff()
HandsNumberP2Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*3*WideScreenDiff()
HandsNumberP2OnCommand=maxwidth,190;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.6;linear,0.8;diffusealpha,1
HandsNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

RollsNumberP1X=SCREEN_CENTER_X-28*WideScreenDiff()
RollsNumberP1Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*4*WideScreenDiff()
RollsNumberP1OnCommand=maxwidth,200;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_1);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.8;linear,0.8;diffusealpha,1
RollsNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
RollsNumberP2X=SCREEN_CENTER_X+94*WideScreenDiff()
RollsNumberP2Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*4*WideScreenDiff()
RollsNumberP2OnCommand=maxwidth,200;zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_2);shadowlength,0;horizalign,right;diffusealpha,0;sleep,3.8;linear,0.8;diffusealpha,1
RollsNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

ShowJudgmentLineMaxCombo=true
MaxComboNumberP1X=SCREEN_CENTER_X-56*WideScreenDiff()
MaxComboNumberP1Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*5*WideScreenDiff()
MaxComboNumberP1OnCommand=zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_1);shadowlength,0;halign,1;diffusealpha,0;sleep,4;linear,0.8;diffusealpha,1
MaxComboNumberP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
MaxComboNumberP2X=SCREEN_CENTER_X+113*WideScreenDiff()
MaxComboNumberP2Y=SCREEN_CENTER_Y-142*WideScreenDiff()+13*5*WideScreenDiff()
MaxComboNumberP2OnCommand=zoomx,0.45*WideScreenDiff();zoomy,0.4*WideScreenDiff();diffuse,PlayerColor(PLAYER_2);shadowlength,0;halign,1;diffusealpha,0;sleep,4;linear,0.8;diffusealpha,1
MaxComboNumberP2OffCommand=finishtweening;linear,0.2;diffusealpha,0

LiftsNumberP1X=
LiftsNumberP1Y=
LiftsNumberP1OnCommand=visible,false
LiftsNumberP2X=
LiftsNumberP2Y=
LiftsNumberP2OnCommand=visible,false

FakesNumberP1X=
FakesNumberP1Y=
FakesNumberP1OnCommand=visible,false
FakesNumberP2X=
FakesNumberP2Y=
FakesNumberP2OnCommand=visible,false

DisqualifiedP1X=SCREEN_CENTER_X-200*WideScreenDiff()
DisqualifiedP1Y=SCREEN_CENTER_Y+90*WideScreenDiff()
DisqualifiedP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
DisqualifiedP1OnCommand=draworder,1;zoom,0.5;glowshift;effectcolor2,1,.9,0.2,0.8;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
DisqualifiedP2X=SCREEN_CENTER_X+200*WideScreenDiff()
DisqualifiedP2Y=SCREEN_CENTER_Y+90*WideScreenDiff()
DisqualifiedP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()
DisqualifiedP2OnCommand=draworder,1;zoom,0.5;glowshift;effectcolor2,1,.9,0.2,0.8;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()

PlayerOptionsP1X=SCREEN_CENTER_X-59*WideScreenDiff()
PlayerOptionsP1Y=SCREEN_CENTER_Y-35*WideScreenDiff()
PlayerOptionsP1OnCommand=maxwidth,245;maxheight,150;vertspacing,-8;wrapwidthpixels,245;zoom,0.4*WideScreenDiff();draworder,101;shadowlength,1;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
PlayerOptionsP1OffCommand=finishtweening;linear,0.2;diffusealpha,0
PlayerOptionsP2X=SCREEN_CENTER_X+59*WideScreenDiff()
PlayerOptionsP2Y=SCREEN_CENTER_Y-35*WideScreenDiff()
PlayerOptionsP2OnCommand=maxwidth,245;maxheight,150;vertspacing,-8;wrapwidthpixels,245;zoom,0.4*WideScreenDiff();draworder,101;shadowlength,1;diffusealpha,0;sleep,3;linear,0.8;diffusealpha,1
PlayerOptionsP2OffCommand=finishtweening;linear,0.2;diffusealpha,0
PlayerOptionsSeparator=", "

ShowPointsArea=true
PercentFrameP1X=
PercentFrameP1Y=
PercentFrameP1OnCommand=visible,false
PercentFrameP1OffCommand=
PercentFrameP2X=
PercentFrameP2Y=
PercentFrameP2OnCommand=visible,false
PercentFrameP2OffCommand=

ShowStepsDisplay=true
StepsDisplayP1X=SCREEN_CENTER_X-242*WideScreenDiff()
StepsDisplayP1Y=SCREEN_CENTER_Y+10*WideScreenDiff()
StepsDisplayP1OnCommand=zoom,WideScreenDiff();addx,-SCREEN_WIDTH/1;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/1
StepsDisplayP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/1
StepsDisplayP2X=SCREEN_CENTER_X+242*WideScreenDiff()
StepsDisplayP2Y=SCREEN_CENTER_Y+10*WideScreenDiff()
StepsDisplayP2OnCommand=zoom,WideScreenDiff();addx,SCREEN_WIDTH/1;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/1
StepsDisplayP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/1

PercentP1X=
PercentP1Y=
PercentP1OnCommand=hibernate,math.huge
PercentP1OffCommand=
PercentP2X=
PercentP2Y=
PercentP2OnCommand=hibernate,math.huge
PercentP2OffCommand=

MachineRecordP1X=SCREEN_CENTER_X-200*WideScreenDiff()
MachineRecordP1Y=SCREEN_CENTER_Y+90*WideScreenDiff()
MachineRecordP1OnCommand=zoom,WideScreenDiff();shadowlength,2;cropright,1;sleep,3;linear,0.3;cropright,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
MachineRecordP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
MachineRecordP2X=SCREEN_CENTER_X+200*WideScreenDiff()
MachineRecordP2Y=SCREEN_CENTER_Y+90*WideScreenDiff()
MachineRecordP2OnCommand=zoom,WideScreenDiff();shadowlength,2;cropleft,1;sleep,3;linear,0.3;cropleft,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
MachineRecordP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

PersonalRecordP1X=SCREEN_CENTER_X-200*WideScreenDiff()
PersonalRecordP1Y=SCREEN_CENTER_Y+78*WideScreenDiff()
PersonalRecordP1OnCommand=zoom,WideScreenDiff();shadowlength,2;cropright,1;sleep,3;linear,0.3;cropright,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
PersonalRecordP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
PersonalRecordP2X=SCREEN_CENTER_X+200*WideScreenDiff()
PersonalRecordP2Y=SCREEN_CENTER_Y+78*WideScreenDiff()
PersonalRecordP2OnCommand=zoom,WideScreenDiff();shadowlength,2;cropleft,1;sleep,3;linear,0.3;cropleft,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
PersonalRecordP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

AutoPlayerP1X=SCREEN_CENTER_X-200*WideScreenDiff()
AutoPlayerP1Y=SCREEN_CENTER_Y+84*WideScreenDiff()
AutoPlayerP1OnCommand=zoom,WideScreenDiff();shadowlength,2;cropright,1;sleep,3;linear,0.3;cropright,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
AutoPlayerP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
AutoPlayerP2X=SCREEN_CENTER_X+200*WideScreenDiff()
AutoPlayerP2Y=SCREEN_CENTER_Y+84*WideScreenDiff()
AutoPlayerP2OnCommand=zoom,WideScreenDiff();shadowlength,2;cropleft,1;sleep,3;linear,0.3;cropleft,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
AutoPlayerP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

PacemakerRecordP1X=SCREEN_CENTER_X-200*WideScreenDiff()
PacemakerRecordP1Y=SCREEN_CENTER_Y+78*WideScreenDiff()-48*WideScreenDiff()
PacemakerRecordP1OnCommand=zoom,WideScreenDiff();shadowlength,2;cropright,1;sleep,3;linear,0.3;cropright,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
PacemakerRecordP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
PacemakerRecordP2X=SCREEN_CENTER_X+200*WideScreenDiff()
PacemakerRecordP2Y=SCREEN_CENTER_Y+78*WideScreenDiff()-48*WideScreenDiff()
PacemakerRecordP2OnCommand=zoom,WideScreenDiff();shadowlength,2;cropleft,1;sleep,3;linear,0.3;cropleft,0;diffuseshift;effectcolor1,color("0.5,0.5,0.5,1")
PacemakerRecordP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

ShowPeakComboAward=true
PeakComboAwardP1X=SCREEN_CENTER_X-292*WideScreenDiff()
PeakComboAwardP1Y=SCREEN_CENTER_Y+162*WideScreenDiff()
PeakComboAwardP1OnCommand=draworder,110;zoom,0.4*WideScreenDiff();addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
PeakComboAwardP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
PeakComboAwardP2X=SCREEN_CENTER_X+111*WideScreenDiff()
PeakComboAwardP2Y=SCREEN_CENTER_Y+162*WideScreenDiff()
PeakComboAwardP2OnCommand=draworder,110;zoom,0.4*WideScreenDiff();addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
PeakComboAwardP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

ShowStageAward=true
StageAwardP1X=SCREEN_CENTER_X-110*WideScreenDiff()
StageAwardP1Y=SCREEN_CENTER_Y+162*WideScreenDiff()
StageAwardP1OnCommand=draworder,110;zoom,0.4*WideScreenDiff();addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
StageAwardP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
StageAwardP2X=SCREEN_CENTER_X+291*WideScreenDiff()
StageAwardP2Y=SCREEN_CENTER_Y+162*WideScreenDiff()
StageAwardP2OnCommand=draworder,110;zoom,0.4*WideScreenDiff();addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
StageAwardP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

ShowStyleIcon=true
StyleIconOnCommand=draworder,10;zoom,WideScreenDiff();addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

ShowStageDisplay=true
StageDisplayOnCommand=zoom,0.7*WideScreenDiff();addx,SCREEN_WIDTH/2;sleep,3.3;decelerate,0.3;addx,-SCREEN_WIDTH/2;draworder,1

[ScreenEvaluation Percent]
PercentP1X=0
PercentP1Y=0
PercentP1OnCommand=shadowlength,0
PercentP1OffCommand=
PercentP2X=0
PercentP2Y=0
PercentP2OnCommand=shadowlength,0
PercentP2OffCommand=
PercentRemainderP1X=0
PercentRemainderP1Y=0
PercentRemainderP1OnCommand=halign,0;valign,1;zoom,0.5;shadowlength,0
PercentRemainderP1OffCommand=sleep,0.8;accelerate,0.3;addx,-SCREEN_WIDTH/2
PercentRemainderP2X=0
PercentRemainderP2Y=0
PercentRemainderP2OnCommand=halign,0;valign,1;zoom,0.5;shadowlength,0
PercentRemainderP2OffCommand=sleep,0.8;accelerate,0.3;addx,SCREEN_WIDTH/2
PercentUseRemainder=false

DancePointsP1X=0
DancePointsP1Y=0
DancePointsP1OnCommand=shadowlength,0
DancePointsP1OffCommand=
DancePointsP2X=0
DancePointsP2Y=0
DancePointsP2OnCommand=shadowlength,0
DancePointsP2OffCommand=

[ScreenEvaluationNormal]
Fallback="ScreenEvaluation"
ShowHeader=true

ShowGraphDisplay=true
GraphDisplayP1X=SCREEN_CENTER_X-200*WideScreenDiff()
GraphDisplayP1Y=SCREEN_CENTER_Y+136*WideScreenDiff()
GraphDisplayP1OnCommand=zoom,WideScreenDiff();draworder,1;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
GraphDisplayP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
GraphDisplayP2X=SCREEN_CENTER_X+200*WideScreenDiff()
GraphDisplayP2Y=SCREEN_CENTER_Y+136*WideScreenDiff()
GraphDisplayP2OnCommand=zoom,WideScreenDiff();draworder,1;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
GraphDisplayP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

ShowComboGraph=true
ComboGraphP1X=SCREEN_CENTER_X-200.5*WideScreenDiff()
ComboGraphP1Y=SCREEN_CENTER_Y+186*WideScreenDiff()
ComboGraphP1OnCommand=zoom,WideScreenDiff();ztest,true;draworder,2;addx,-EvalTweenDistance();sleep,3;decelerate,0.3;addx,EvalTweenDistance()
ComboGraphP1OffCommand=accelerate,0.3;addx,-EvalTweenDistance()
ComboGraphP2X=SCREEN_CENTER_X+200.5*WideScreenDiff()
ComboGraphP2Y=SCREEN_CENTER_Y+186*WideScreenDiff()
ComboGraphP2OnCommand=zoom,WideScreenDiff();ztest,true;draworder,2;addx,EvalTweenDistance();sleep,3;decelerate,0.3;addx,-EvalTweenDistance()
ComboGraphP2OffCommand=accelerate,0.3;addx,EvalTweenDistance()

[ScreenEvaluationCourse]
Fallback="ScreenEvaluationNormal"

[ScreenEvaluationOni]
Fallback="ScreenEvaluationCourse"

[ScreenEvaluationNonstop]
Fallback="ScreenEvaluationCourse"

[ScreenEvaluationRave]
Fallback="ScreenEvaluationNormal"

ShowBannerArea=true
LargeBannerFrameOnCommand=zoom,WideScreenDiff();diffusealpha,0;sleep,3;linear,0.5;diffusealpha,1
LargeBannerFrameOffCommand=stoptweening;linear,0.2;diffusealpha,0

ShowGradeArea=false
ShowPointsArea=true
ShowBonusArea=false
ShowSurvivedArea=false
ShowScoreArea=false
ShowTimeArea=false
ShowComboArea=false
ShowStageAward=false
ShowPeakComboAward=false

DisqualifiedP1OnCommand=visible,0
DisqualifiedP2OnCommand=visible,0

ShowGraphArea=true
GraphFrameP1X=SCREEN_CENTER_X+2*WideScreenDiff()
GraphFrameP1Y=SCREEN_CENTER_Y-27*WideScreenDiff()
GraphFrameP1OnCommand=addy,SCREEN_HEIGHT;sleep,3;decelerate,0.3;addy,-SCREEN_HEIGHT
GraphFrameP1OffCommand=accelerate,0.3;addy,SCREEN_HEIGHT
GraphFrameP2X=SCREEN_CENTER_X
GraphFrameP2Y=SCREEN_CENTER_Y-11*WideScreenDiff()
GraphFrameP2OnCommand=visible,0
GraphFrameP2OffCommand=accelerate,0.3;addy,SCREEN_HEIGHT

GraphDisplayStartHeight=.5
GraphDisplayP1X=SCREEN_CENTER_X
GraphDisplayP1Y=SCREEN_CENTER_Y-14*WideScreenDiff()
GraphDisplayP1OnCommand=draworder,6;zoomy,0.9*WideScreenDiff();zoomx,1.08*WideScreenDiff();rotationz,90;addy,SCREEN_HEIGHT;sleep,3;decelerate,0.3;addy,-SCREEN_HEIGHT
GraphDisplayP1OffCommand=accelerate,0.3;addy,SCREEN_HEIGHT
GraphDisplayP2X=SCREEN_CENTER_X
GraphDisplayP2Y=SCREEN_CENTER_Y-14*WideScreenDiff()
GraphDisplayP2OnCommand=draworder,6;zoomy,-0.9*WideScreenDiff();zoomx,1.08*WideScreenDiff();rotationz,90;addy,SCREEN_HEIGHT;sleep,3;decelerate,0.3;addy,-SCREEN_HEIGHT
GraphDisplayP2OffCommand=accelerate,0.3;addy,SCREEN_HEIGHT

ShowComboGraph=false
ComboBarOnCommand=
ComboBarOffCommand=

ShowMarvelous=true
W1NumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
W1NumberP1Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*0*WideScreenDiff()
W1NumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
W1NumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
W1NumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
W1NumberP2Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*0*WideScreenDiff()
W1NumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
W1NumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

ShowPerfect=true
W2NumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
W2NumberP1Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*1*WideScreenDiff()
W2NumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
W2NumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
W2NumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
W2NumberP2Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*1*WideScreenDiff()
W2NumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
W2NumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

ShowGreat=true
W3NumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
W3NumberP1Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*2*WideScreenDiff()
W3NumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
W3NumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
W3NumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
W3NumberP2Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*2*WideScreenDiff()
W3NumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
W3NumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

ShowGood=true
W4NumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
W4NumberP1Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*3*WideScreenDiff()
W4NumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
W4NumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
W4NumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
W4NumberP2Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*3*WideScreenDiff()
W4NumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
W4NumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

ShowBoo=true
W5NumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
W5NumberP1Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*4*WideScreenDiff()
W5NumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
W5NumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
W5NumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
W5NumberP2Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*4*WideScreenDiff()
W5NumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
W5NumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

ShowMiss=true
MissNumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
MissNumberP1Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*5*WideScreenDiff()
MissNumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
MissNumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
MissNumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
MissNumberP2Y=SCREEN_CENTER_Y-107*WideScreenDiff()+16*5*WideScreenDiff()
MissNumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
MissNumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

ShowMaxCombo=true
MaxComboNumDigits=5
MaxComboLabelOffCommand=
MaxComboLabelOnCommand=diffuse,1,1,1,0

MaxComboNumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
MaxComboNumberP1Y=SCREEN_CENTER_Y-102*WideScreenDiff()+16*11*WideScreenDiff()
MaxComboNumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
MaxComboNumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
MaxComboNumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
MaxComboNumberP2Y=SCREEN_CENTER_Y-102*WideScreenDiff()+16*11*WideScreenDiff()
MaxComboNumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
MaxComboNumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

ShowJumps=true
JumpsNumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
JumpsNumberP1Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*6*WideScreenDiff()
JumpsNumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);shadowlength,0;addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
JumpsNumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
JumpsNumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
JumpsNumberP2Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*6*WideScreenDiff()
JumpsNumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);shadowlength,0;addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2
JumpsNumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2

ShowHolds=true
HoldsNumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
HoldsNumberP1Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*7*WideScreenDiff()
HoldsNumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);shadowlength,0;addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
HoldsNumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
HoldsNumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
HoldsNumberP2Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*7*WideScreenDiff()
HoldsNumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);shadowlength,0;addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2
HoldsNumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2

ShowMines=true
MinesNumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
MinesNumberP1Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*8*WideScreenDiff()
MinesNumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);shadowlength,0;addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
MinesNumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
MinesNumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
MinesNumberP2Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*8*WideScreenDiff()
MinesNumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);shadowlength,0;addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2
MinesNumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2

ShowHands=true
HandsNumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
HandsNumberP1Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*9*WideScreenDiff()
HandsNumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);shadowlength,0;addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
HandsNumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
HandsNumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
HandsNumberP2Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*9*WideScreenDiff()
HandsNumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);shadowlength,0;addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2
HandsNumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2

ShowRolls=true
RollsNumberP1X=SCREEN_CENTER_X-75*WideScreenDiff()
RollsNumberP1Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*10*WideScreenDiff()
RollsNumberP1OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_1);shadowlength,0;addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
RollsNumberP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
RollsNumberP2X=SCREEN_CENTER_X+269*WideScreenDiff()
RollsNumberP2Y=SCREEN_CENTER_Y-105*WideScreenDiff()+16*10*WideScreenDiff()
RollsNumberP2OnCommand=zoom,0.5*WideScreenDiff();halign,1;diffuse,PlayerColor(PLAYER_2);shadowlength,0;addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2
RollsNumberP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2

PlayerOptionsP1OffCommand=
PlayerOptionsP1OnCommand=visible,0
PlayerOptionsP2OffCommand=
PlayerOptionsP2OnCommand=visible,0

ScoreLabelX=SCREEN_CENTER_X
ScoreLabelY=SCREEN_CENTER_Y+190
ScoreLabelOffCommand=sleep,0.0;accelerate,0.3;addy,SCREEN_HEIGHT
ScoreLabelOnCommand=addy,SCREEN_HEIGHT;sleep,0.8;decelerate,0.3;addy,-SCREEN_HEIGHT

SpinGrades=0

ShowWinArea=true
WinFrameP1X=SCREEN_CENTER_X-174*WideScreenDiff()
WinFrameP1Y=SCREEN_CENTER_Y+24*WideScreenDiff()
WinFrameP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
WinFrameP1OnCommand=addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
WinFrameP2X=SCREEN_CENTER_X+174*WideScreenDiff()
WinFrameP2Y=SCREEN_CENTER_Y+24*WideScreenDiff()
WinFrameP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
WinFrameP2OnCommand=addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

WinP1X=SCREEN_CENTER_X-200*WideScreenDiff()
WinP1Y=SCREEN_CENTER_Y+125*WideScreenDiff()
WinP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
WinP1OnCommand=zoom,0.75*WideScreenDiff();addx,-SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/2
WinP2X=SCREEN_CENTER_X+200*WideScreenDiff()
WinP2Y=SCREEN_CENTER_Y+125*WideScreenDiff()
WinP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
WinP2OnCommand=zoom,0.75*WideScreenDiff();addx,SCREEN_WIDTH/2;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/2

MachineRecordP1OnCommand=visible,0
MachineRecordP2OnCommand=visible,0

ShowStepsDisplay=true
StepsDisplayP1X=SCREEN_CENTER_X-228*WideScreenDiff()
StepsDisplayP1Y=SCREEN_CENTER_Y-142*WideScreenDiff()
StepsDisplayP1OnCommand=zoom,WideScreenDiff();addx,-SCREEN_WIDTH/1;sleep,3;decelerate,0.3;addx,SCREEN_WIDTH/1
StepsDisplayP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/1
StepsDisplayP2X=SCREEN_CENTER_X+228*WideScreenDiff()
StepsDisplayP2Y=SCREEN_CENTER_Y-142*WideScreenDiff()
StepsDisplayP2OnCommand=zoom,WideScreenDiff();addx,SCREEN_WIDTH/1;sleep,3;decelerate,0.3;addx,-SCREEN_WIDTH/1
StepsDisplayP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/1

[ScreenSummary]
Fallback=isEtterna() and "ScreenSplash" or "ScreenAttract"
NextScreen=isEtterna() and "ScreenTitleMenu" or "ScreenCompany"
PrevScreen=isEtterna() and "ScreenTitleMenu" or "ScreenCompany"
TimerSeconds=-1

[StepsDisplayEvaluation]
Fallback="StepsDisplayGameplay"
ShowDescription=true
ShowMeter=true

[GraphDisplay]
BodyWidth=192
BodyHeight=66

[GraphDisplayP1]
Fallback="GraphDisplay"

[GraphDisplayP2]
Fallback="GraphDisplay"

[ComboGraph]
BodyWidth=193
BodyHeight=20
NumbersY=-2

[ComboGraphP1]
Fallback="ComboGraph"
ComboMaxNumberOnCommand=addy,1;zoom,0.5;shadowlength,0
ComboMaxNumberOffCommand=

[ComboGraphP2]
Fallback="ComboGraph"
ComboMaxNumberOnCommand=addy,1;zoom,0.5;shadowlength,0
ComboMaxNumberOffCommand=

[ScreenNameEntryTraditional]
Class="ScreenNameEntryTraditional"
# todo: fix NextScreen branch

TimerSeconds=60
#WaitForChildrenBeforeTweeningOut=true

ShowHelp=true
HelpBeginCommand=playcommand,"SetHelpText",{ Text = GetScreenNameEntryTraditionalHelpText() }
MaxRankingNameLength=20
FeatInterval=5

OutOfRankingP1X=SCREEN_CENTER_X-157*WideScreenDiff()
OutOfRankingP1Y=SCREEN_CENTER_Y+49*WideScreenDiff()
OutOfRankingP1OnCommand=shadowlength,4;addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
OutOfRankingP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
OutOfRankingP2X=SCREEN_CENTER_X+157*WideScreenDiff()
OutOfRankingP2Y=SCREEN_CENTER_Y+49*WideScreenDiff()
OutOfRankingP2OnCommand=shadowlength,4;addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
OutOfRankingP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2

KeyboardP1X=SCREEN_CENTER_X-157*WideScreenDiff()
KeyboardP1Y=SCREEN_CENTER_Y+72*WideScreenDiff()
KeyboardP1OnCommand=zoom,WideScreenDiff();addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
KeyboardP1OffCommand=linear,0.25;zoomy,0
KeyboardP2X=SCREEN_CENTER_X+156*WideScreenDiff()
KeyboardP2Y=SCREEN_CENTER_Y+72*WideScreenDiff()
KeyboardP2OnCommand=zoom,WideScreenDiff();addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
KeyboardP2OffCommand=linear,0.25;zoomy,0

SelectionP1X=SCREEN_CENTER_X-157*WideScreenDiff()
SelectionP1Y=SCREEN_CENTER_Y+22*WideScreenDiff()
SelectionP1OnCommand=zoom,WideScreenDiff();addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
SelectionP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
SelectionP2X=SCREEN_CENTER_X+156*WideScreenDiff()
SelectionP2Y=SCREEN_CENTER_Y+22*WideScreenDiff()
SelectionP2OnCommand=zoom,WideScreenDiff();addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
SelectionP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2

WheelP1X=SCREEN_CENTER_X-149*WideScreenDiff()
WheelP1Y=SCREEN_CENTER_Y-76*WideScreenDiff()
WheelP1OnCommand=zoom,0.75*WideScreenDiff();addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
WheelP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
WheelP2X=SCREEN_CENTER_X+149*WideScreenDiff()
WheelP2Y=SCREEN_CENTER_Y-76*WideScreenDiff()
WheelP2OnCommand=zoom,0.75*WideScreenDiff();addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
WheelP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2

BannerX=SCREEN_CENTER_X
BannerY=SCREEN_CENTER_Y+138*WideScreenDiff()
BannerOnCommand=setsize,(isFinal() and 170 or 174)*WideScreenDiff(),(isFinal() and 64 or 68)*WideScreenDiff();addy,200;decelerate,0.3;addy,-200
BannerOffCommand=accelerate,0.3;addy,200

ScoreP1X=isFinal() and SCREEN_CENTER_X-193*WideScreenDiff() or SCREEN_CENTER_X-200*WideScreenDiff()
ScoreP1Y=SCREEN_CENTER_Y+132*WideScreenDiff()
ScoreP1OnCommand=zoom,WideScreenDiff();addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
ScoreP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
ScoreP1HideCommand=stoptweening;diffusealpha,1;linear,0.5;diffusealpha,0
ScoreP1UnhideCommand=stoptweening;diffusealpha,0;linear,0.5;diffusealpha,1
ScoreP2X=isFinal() and SCREEN_CENTER_X+193*WideScreenDiff() or SCREEN_CENTER_X+200*WideScreenDiff()
ScoreP2Y=SCREEN_CENTER_Y+132*WideScreenDiff()
ScoreP2OnCommand=zoom,WideScreenDiff();addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
ScoreP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
ScoreP2HideCommand=stoptweening;diffusealpha,1;linear,0.5;diffusealpha,0
ScoreP2UnhideCommand=stoptweening;diffusealpha,0;linear,0.5;diffusealpha,1

DifficultyIconP1X=SCREEN_CENTER_X-195*WideScreenDiff()
DifficultyIconP1Y=isFinal() and SCREEN_CENTER_Y+135*WideScreenDiff() or SCREEN_CENTER_Y+175*WideScreenDiff()
DifficultyIconP1OnCommand=zoom,WideScreenDiff();addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
DifficultyIconP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
DifficultyIconP1HideCommand=stoptweening;linear,0.5;diffusealpha,0
DifficultyIconP1UnhideCommand=stoptweening;linear,0.5;diffusealpha,1
DifficultyIconP2X=SCREEN_CENTER_X+195*WideScreenDiff()
DifficultyIconP2Y=isFinal() and SCREEN_CENTER_Y+135*WideScreenDiff() or SCREEN_CENTER_Y+175*WideScreenDiff()
DifficultyIconP2OnCommand=zoomx,-1*WideScreenDiff();zoomy,WideScreenDiff();addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
DifficultyIconP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
DifficultyIconP2HideCommand=stoptweening;linear,0.5;diffusealpha,0
DifficultyIconP2UnhideCommand=stoptweening;linear,0.5;diffusealpha,1

DifficultyMeterP1X=SCREEN_CENTER_X-195*WideScreenDiff()
DifficultyMeterP1Y=SCREEN_CENTER_Y+174*WideScreenDiff()
DifficultyMeterP1OnCommand=zoom,0.5*WideScreenDiff();addx,-SCREEN_WIDTH/2;decelerate,0.3;addx,SCREEN_WIDTH/2
DifficultyMeterP1OffCommand=accelerate,0.3;addx,-SCREEN_WIDTH/2
DifficultyMeterP1HideCommand=stoptweening;linear,.5;diffusealpha,0
DifficultyMeterP1UnhideCommand=stoptweening;linear,.5;diffusealpha,1
DifficultyMeterP2X=SCREEN_CENTER_X+195*WideScreenDiff()
DifficultyMeterP2Y=SCREEN_CENTER_Y+174*WideScreenDiff()
DifficultyMeterP2OnCommand=zoom,0.5*WideScreenDiff();addx,SCREEN_WIDTH/2;decelerate,0.3;addx,-SCREEN_WIDTH/2
DifficultyMeterP2OffCommand=accelerate,0.3;addx,SCREEN_WIDTH/2
DifficultyMeterP2HideCommand=stoptweening;linear,.5;diffusealpha,0
DifficultyMeterP2UnhideCommand=stoptweening;linear,.5;diffusealpha,1

[HighScore]
EmptyName="????"

[ScreenOptionsService]
ShowHelp=true

NextScreen=Branch.TitleScreen()
PrevScreen=Branch.TitleScreen()
NumRowsShown=9
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-116*WideScreenDiff()+28*offsetFromCenter*WideScreenDiff()) end

LineNames=(isOpenDDR() and "" or "GameType,").."GraphicSound,KeyConfig"..(not isEtterna() and ",Arcade" or "")..",InputOptions,SoundGraphics,Profiles"..(not isITGmania() and ",Network" or "")..",Advanced"..(not isEtterna() and ",Reload,Credits" or "")..",ThemePref"..(ThemePrefs.Get("UseStepCache") and ",StepCache" or "")..(not isEtterna() and ",AI" or "")

OptionRowNormalMetricsGroup="OptionRowService"

LineGraphicSound="gamecommand;screen,ScreenOptionsGraphicsSound;name,Graphics/Sound Options"
LineArcadeOptions="gamecommand;screen,ScreenOptionsArcade;name,Arcade Options"
LineInputOptions="gamecommand;screen,ScreenOptionsInputSub;name,InputOptions"
LineSoundGraphics="gamecommand;screen,ScreenOptionsDisplaySub;name,Display Options"
LineProfiles="gamecommand;screen,ScreenOptionsManageProfiles;name,Profiles"
LineTestInput="gamecommand;screen,ScreenTestInput;name,Test Input"
LineNetwork="gamecommand;screen,ScreenNetworkOptions;name,Network Options"
LineThemePref="gamecommand;screen,ScreenOptionsTheme;name,Theme Options"
LineStepCache="gamecommand;screen,ScreenStepCache;name,StepCache"
LineAI="gamecommand;screen,ScreenAI;name,CPUAI"

ExplanationTogetherX=SCREEN_CENTER_X-266*WideScreenDiff()
ExplanationTogetherY=SCREEN_CENTER_Y+132*WideScreenDiff()
ExplanationTogetherOnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,1100;valign,0;halign,0;cropright,1;linear,0.5;cropright,0

[OptionRowService]
TitleX=SCREEN_CENTER_X-270*WideScreenDiff()
TitleY=
TitleOnCommand=shadowlength,0;zoom,0.5*WideScreenDiff();halign,0;
TitleGainFocusCommand=diffuse,color("1,1,1,1");strokecolor,color("0,0,0,1")
TitleLoseFocusCommand=diffuse,color("0.5,0.5,0.5,1");strokecolor,color("0,0,0,1")

[ScreenOptionsServiceChild]
ShowHelp=true

ExplanationTogetherX=SCREEN_CENTER_X-266*WideScreenDiff()
ExplanationTogetherY=SCREEN_CENTER_Y+132*WideScreenDiff()
ExplanationTogetherOnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,1100;valign,0;halign,0;cropright,1;linear,0.5;cropright,0

LineHighlightP1OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5;zoom,WideScreenDiff()
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP2OnCommand=ztest,true;blend,Blend.Add;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#FFFFFF77");diffusealpha,0.5;zoom,WideScreenDiff()
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

[ScreenOptionsManageProfiles]
OptionRowNormalMetricsGroup="OptionRowProfile"
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-116*WideScreenDiff()+28*offsetFromCenter*WideScreenDiff()) end
ShowHelp=true

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y+112*WideScreenDiff()
SeparateExitRowY=SCREEN_CENTER_Y+112*WideScreenDiff()

ExplanationTogetherX=SCREEN_CENTER_X-266*WideScreenDiff()
ExplanationTogetherY=SCREEN_CENTER_Y+132*WideScreenDiff()
ExplanationTogetherOnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,1100;valign,0;halign,0;cropright,1;linear,0.5;cropright,0

[OptionRowProfile]
Fallback="OptionRow"
ShowUnderlines=false
TitleX=SCREEN_CENTER_X-176*WideScreenDiff()
ItemsStartX=SCREEN_CENTER_X-216*WideScreenDiff()
ItemOnCommand=shadowlength,0;zoom,0.5*WideScreenDiff()

[ScreenOptionsArcade]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

[ScreenSelectGame]
Fallback="ScreenOptionsServiceChild"
NextScreen=Branch.TitleScreen()
PrevScreen="ScreenOptionsService"

[ScreenOptionsGraphicsSound]
Fallback="ScreenOptionsService"
LineNames="G,S"
LineG="gamecommand;screen,ScreenOptionsGraphics;name,Graphics Options"
LineS="gamecommand;screen,ScreenOptionsSounds;name,Sound Options"

SeparateExitRow=true
SeparateExitRowY=SCREEN_CENTER_Y+108*WideScreenDiff()

[ScreenOptionsGraphics]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsGraphicsSound"
PrevScreen="ScreenOptionsGraphicsSound"

LineNames=(function() \
local lines = "1,2,3,RefreshRate,FSType,4,5"..((not isEtterna() and not isOutFoxV()) and ",CacheMode" or "")..",6,7,8,9"..(isEtterna() and ",11E,FRGlobal,FRGameplay" or ",10,11")..",13,FNR,14" \
	if type(ConfAspectRatio) ~= "function" then lines = lines:gsub(",2,",",2C,") end \
	if type(ConfDisplayResolution) ~= "function" then lines = lines:gsub(",3,", ",3C,") end \
	if type(ConfDisplayMode) ~= "function" or HOOKS:GetArchName():lower():match("mac") then lines = lines:gsub("^1,", "") end \
	if type(ConfRefreshRate) ~= "function" then lines = lines:gsub("RefreshRate,", "") end \
	if type(ConfFullscreenType) ~= "function" then lines = lines:gsub("FSType,", "") end \
	return lines \
end)()

Line1="lua,ConfDisplayMode()"
Line2="lua,ConfAspectRatio()"
Line2C="conf,DisplayAspectRatio"
Line3="lua,ConfDisplayResolution()"
Line3C="conf,DisplayResolution"
LineRefreshRate="lua,ConfRefreshRate()"
LineFSType="lua,ConfFullscreenType()"
Line4="conf,DisplayColorDepth"
Line5="conf,HighResolutionTextures"
LineCacheMode="lua,CachePref()"
Line6="conf,MaxTextureResolution"
Line7="conf,TextureColorDepth"
Line8="conf,MovieColorDepth"
Line9="conf,SmoothLines"
Line10="conf,CelShadeModels"
Line11="conf,DelayedTextureDelete"
Line11E="conf,DelayedTextureDeletion"
LineFRGlobal="lua,FrameLimitGlobal()"
LineFRGameplay="lua,FrameLimitGameplay()"
# RefreshRate ConfOption no longer used
Line12="conf,RefreshRate"
Line13="conf,Vsync"
LineFNR="conf,FastNoteRendering"
Line14="conf,ShowStats"
Line15="conf,ShowBanners"

[ScreenOptionsSounds]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsGraphicsSound"
PrevScreen="ScreenOptionsGraphicsSound"

LineNames=(not isEtterna() and "16," or "").."17"..(isOutFoxV() and ",SPV,EffV,AttV,18" or isOutFox() and (VersionDateCheck(20210666) and ",EffV,18" or ",18") or not isEtterna() and ",17A,18" or "")..",19,20,G"..(isITGmania() and ",21,22" or "")
Line16="conf,AttractSoundFrequency"
Line17="conf,SoundVolume"
Line17A="conf,SoundVolumeAttract"
Line18="conf,EnableAttackSounds"
Line19="conf,EnableMineHitSound"
Line20="lua,offsetMS('VisualDelaySeconds')"
LineG="lua,offsetMS('GlobalOffsetSeconds')"
LineEffV="conf,EffectVolume"
LineSPV="conf,SongPreviewVolume"
LineAttV="conf,AttractVolume"
Line21="conf,DefaultSyncOffset"
Line22="conf,RateModPreservesPitch"

[ScreenNetworkOptions]
NextScreen=Branch.TitleScreen()
PrevScreen=Branch.TitleScreen()

[ScreenTestInput]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsInputSub"
PrevScreen="ScreenOptionsInputSub"

[ScreenOptionsExtended]
NumRowsShown=9

LineNames="Sync,3,10,11,4,5"

[ScreenMapControllers]
ButtonsToMap="Up,Down,Left,Right,Start,Select,Back"

LockInputSecs=0
AutoDismissWarningSecs=5
LinesVisible=7
AutoDismissNoSetListPromptSecs=5
AutoDismissSanitySecs=5

DevicesX=SCREEN_CENTER_X+280*WideScreenDiff()
DevicesY=SCREEN_CENTER_Y+138*WideScreenDiff()
DevicesOnCommand=zoom,0.4*WideScreenDiff();draworder,5;halign,1;valign,0;maxwidth,400
DevicesOffCommand=

ListHeaderP1S1Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X-(90+(40*4))*WideScreenDiff() or SCREEN_CENTER_X-(100+(70*2))*WideScreenDiff()
ListHeaderP1S2Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X-(90+(40*3))*WideScreenDiff() or SCREEN_CENTER_X-(100+(70*1))*WideScreenDiff()
ListHeaderP1S3Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X-(90+(40*2))*WideScreenDiff() or SCREEN_CENTER_X-100*WideScreenDiff()
ListHeaderP1S4Command=x,SCREEN_CENTER_X-(90+(40*1))*WideScreenDiff()
ListHeaderP1S5Command=x,SCREEN_CENTER_X-90*WideScreenDiff()
ListHeaderP2S1Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X+90*WideScreenDiff() or SCREEN_CENTER_X+100*WideScreenDiff()
ListHeaderP2S2Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X+(90+(40*1))*WideScreenDiff() or SCREEN_CENTER_X+(100+(70*1))*WideScreenDiff()
ListHeaderP2S3Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X+(90+(40*2))*WideScreenDiff() or SCREEN_CENTER_X+(100+(70*2))*WideScreenDiff()
ListHeaderP2S4Command=x,SCREEN_CENTER_X+(90+(40*3))*WideScreenDiff()
ListHeaderP2S5Command=x,SCREEN_CENTER_X+(90+(40*4))*WideScreenDiff()

ListHeaderCenterOnCommand=CenterX;zoom,0.7*WideScreenDiff();shadowlength,1;ztest,true
ListHeaderOnCommand=diffuse,color("#808080");shadowlength,0;zoom,0.6*WideScreenDiff();maxwidth,(isOutFox() and VersionDateCheck(20201215)) and 60 or 100;
ListHeaderGainFocusCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
ListHeaderLoseFocusCommand=diffuse,color("#808080");stopeffect

MappedToP1S1Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X-(90+(40*4))*WideScreenDiff() or SCREEN_CENTER_X-(100+(70*2))*WideScreenDiff()
MappedToP1S2Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X-(90+(40*3))*WideScreenDiff() or SCREEN_CENTER_X-(100+(70*1))*WideScreenDiff()
MappedToP1S3Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X-(90+(40*2))*WideScreenDiff() or SCREEN_CENTER_X-100*WideScreenDiff()
MappedToP1S4Command=x,SCREEN_CENTER_X-(90+(40*1))*WideScreenDiff()
MappedToP1S5Command=x,SCREEN_CENTER_X-90*WideScreenDiff()
MappedToP2S1Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X+90*WideScreenDiff() or SCREEN_CENTER_X+100*WideScreenDiff()
MappedToP2S2Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X+(90+(40*1))*WideScreenDiff() or SCREEN_CENTER_X+(100+(70*1))*WideScreenDiff()
MappedToP2S3Command=x,(isOutFox() and VersionDateCheck(20201215)) and SCREEN_CENTER_X+(90+(40*2))*WideScreenDiff() or SCREEN_CENTER_X+(100+(70*2))*WideScreenDiff()
MappedToP2S4Command=x,SCREEN_CENTER_X+(90+(40*3))*WideScreenDiff()
MappedToP2S5Command=x,SCREEN_CENTER_X+(90+(40*4))*WideScreenDiff()

MappedToOnCommand=diffuse,color("#808080");shadowlength,0;maxwidth,(isOutFox() and VersionDateCheck(20201215)) and 90 or 140;zoom,0.4*WideScreenDiff()
MappedToWaitingCommand=diffuse,color("#FF8080");pulse;effectperiod,0.5;effectmagnitude,0.8,1.3,0
MappedToMappedInputCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
MappedToGainFocusCommand=diffuse,color("#808080");diffuseshift;effectcolor2,color("#808080");effectcolor1,color("#FFFFFF")
MappedToLoseFocusCommand=diffuse,color("#808080");stopeffect
MappedToGainMarkCommand=textglowmode,'TextGlowMode_Inner';glow,color("#FF00007f")
MappedToLoseMarkCommand=textglowmode,'TextGlowMode_Inner';glow,color("#FF000000")

LabelP1OnCommand=x,SCREEN_CENTER_X-272*WideScreenDiff();y,-9*WideScreenDiff();halign,0;zoom,0.7*WideScreenDiff();shadowlength,1;diffuse,PlayerColor(PLAYER_1)
LabelP1OffCommand=linear,0.5;diffusealpha,0
LabelP2OnCommand=x,SCREEN_CENTER_X+272*WideScreenDiff();y,-9*WideScreenDiff();halign,1;zoom,0.7*WideScreenDiff();shadowlength,1;diffuse,PlayerColor(PLAYER_2)
LabelP2OffCommand=linear,0.5;diffusealpha,0

LineScrollerOnCommand=%function(self) self:draworder(-1):y(SCREEN_CENTER_Y-146*WideScreenDiff()):setsecondsperitem(0):SetTransformFromHeight(28*WideScreenDiff()) end
LineScrollerOffCommand=
LineHideCommand=visible,false
LineOnCommand=%function(self) self:visible(true); local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:addx(-SCREEN_WIDTH * LeftToRight); end
LineOffCommand=%function(self) local LeftToRight = math.mod(self.ItemIndex, 2) == 0 and 1 or -1; self:stoptweening() self:accelerate(0.3); self:addx(SCREEN_WIDTH * LeftToRight); self:queuecommand('Hide') end

PrimaryOnCommand=%function(self) if IsGameAndMenuButton(self:GetText()) then self:x(SCREEN_CENTER_X-30*WideScreenDiff()):maxwidth(120) else self:x(SCREEN_CENTER_X) end self:zoom(0.5*WideScreenDiff()):shadowlength(1):ztest(true) end
SecondaryOnCommand=x,SCREEN_CENTER_X+30*WideScreenDiff();maxwidth,120;zoom,0.4*WideScreenDiff();shadowlength,1;ztest,true

[ScreenGameplaySyncMachine]
ShowStageDisplay=false
LifeP1OnCommand=visible,false
LifeP2OnCommand=visible,false
StepsDisplayP1OnCommand=visible,false
StepsDisplayP2OnCommand=visible,false

[ScreenOptionsTheme]
Fallback="ScreenOptionsServiceChild"
LineNames="EncoreThemeMode,ShowClock,SLFavorites,UseStepCache," .. "ShowBPMDisplayType,ShowCalcDiff,"..((IsGame("dance") or IsGame("groove")) and "DanceDifficultyType," or "").."ShowGraph,ShowHasLua,ShowMODDisplay,ShowRounds,ShowStepCounter," .. "AnimatePlayerScore,"..(canRender() and "AnimateSongTitle," or "").."ShowGameplaySpeed," .. "ShowOffset," .. "ShowSummary,ShowSummarySummary"

#[Global]
LineEncoreThemeMode="lua,ThemePrefRow('EncoreThemeMode')"
LineShowClock="lua,ThemePrefRow('ShowClock')"
LineSLFavorites="lua,ThemePrefRow('SLFavorites')"
LineUseStepCache="lua,ThemePrefRow('UseStepCache')"
#[ScreenSelectMusic]
LineShowBPMDisplayType="lua,ThemePrefRow('ShowBPMDisplayType')"
LineShowCalcDiff="lua,ThemePrefRow('ShowCalcDiff')"
LineDanceDifficultyType="lua,ThemePrefRow('DanceDifficultyType')"
LineShowGraph="lua,ThemePrefRow('ShowGraph')"
LineShowHasLua="lua,ThemePrefRow('ShowHasLua')"
LineShowMODDisplay="lua,ThemePrefRow('ShowMODDisplay')"
LineShowRounds="lua,ThemePrefRow('ShowRounds')"
LineShowStepCounter="lua,ThemePrefRow('ShowStepCounter')"
#[ScreenGameplay]
LineAnimatePlayerScore="lua,ThemePrefRow('AnimatePlayerScore')"
LineAnimateSongTitle="lua,ThemePrefRow('AnimateSongTitle')"
LineShowGameplaySpeed="lua,ThemePrefRow('ShowGameplaySpeed')"
#[ScreenEvaluation]
LineShowOffset="lua,ThemePrefRow('ShowOffset')"
#[ScreenSummary]
LineShowSummary="lua,ThemePrefRow('ShowSummary')"
LineShowSummarySummary="lua,ThemePrefRow('ShowSummarySummary')"

[ScreenTextEntry]
Fallback="ScreenWithMenuElementsBlank"
ShowHeader=false

QuestionX=SCREEN_CENTER_X
QuestionY=SCREEN_CENTER_Y-64*WideScreenDiff()
QuestionBeginCommand=diffusealpha,0;linear,0.3;diffusealpha,1
QuestionOnCommand=wrapwidthpixels,600*1.25*WideScreenDiff();zoom,0.75*WideScreenDiff()
QuestionCancelCommand=diffusealpha,1;linear,0.3;diffusealpha,0
QuestionOffCommand=diffusealpha,1;linear,0.3;diffusealpha,0
AnswerBeginCommand=diffusealpha,0;linear,0.3;diffusealpha,1
AnswerOnCommand=shadowlength,0
AnswerCancelCommand=diffusealpha,1;linear,0.3;diffusealpha,0
AnswerOffCommand=diffusealpha,1;linear,0.3;diffusealpha,0

[ScreenOptionsEdit]
Fallback="ScreenOptionsService"
NextScreen=Branch.TitleScreen()
PrevScreen=Branch.TitleScreen()
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-116*WideScreenDiff()+28*offsetFromCenter*WideScreenDiff()) end

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y-32*WideScreenDiff()
MoreOnCommand=
MoreExitSelectedP1Command=
MoreExitSelectedP2Command=
MoreExitUnselectedP1Command=
MoreExitUnselectedP2Command=

ExplanationTogetherX=SCREEN_CENTER_X-266
ExplanationTogetherY=SCREEN_CENTER_Y+132
ExplanationTogetherOnCommand=zoom,0.5;wrapwidthpixels,1100;valign,0;halign,0;cropright,1;linear,0.5;cropright,0

[ScreenOptionsInput]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsInputSub"
PrevScreen="ScreenOptionsInputSub"
LineNames="1,2,3,AH,4,5,6,7"..((isOutFox() and VersionDateCheck(20210666)) and ",8" or "")
Line1="conf,AutoMapOnJoyChange"
Line2="conf,OnlyDedicatedMenuButtons"
Line3="conf,DelayedBack"
LineAH="conf,AllowHoldForOptions"
Line4="conf,ArcadeOptionsNavigation"
Line5="conf,ThreeKeyNavigation"
Line6="conf,MusicWheelSwitchSpeed"
Line7="conf,InputDebounceTime"
Line8=isOutFox() and "lua,PreferenceBoolean('AxisFix')" or "conf,AxisFix"

[ScreenOptionsInputSub]
Fallback="ScreenOptionsService"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="TestInput,Input,Sync"..(isOutFox() and VersionDateCheck(20201030) and ",TestLuaAnalog" or "")..((isOldStepMania() or isEtterna()) and "" or ",Mapping")
LineTestInput="gamecommand;screen,ScreenTestInput;name,Test Input"
LineInput="gamecommand;screen,ScreenOptionsInput;name,Input Options"
LineSync="gamecommand;screen,ScreenGameplaySyncMachine;name,Calibrate Machine Sync"
LineTestLuaAnalog="gamecommand;screen,ScreenTestLuaAnalog;name,Test Analog Lua Input"
LineMapping="gamecommand;screen,ScreenOptionsMapping;name,Map Controller"

MoreY=SCREEN_CENTER_Y+24*WideScreenDiff()

[ScreenOptionsDisplaySub]
Fallback="ScreenOptionsService"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
LineNames="BGFit,Appearance,UI"..(VersionDateCheck(20150600) and ",Overscan" or "")
LineAppearance="gamecommand;screen,ScreenAppearanceOptions;name,Appearance Options"
LineBGFit="gamecommand;screen,ScreenSetBGFit;name,Set BG Fit Mode"
LineOverscan="gamecommand;screen,ScreenOverscanConfig;name,Overscan Correction"
LineUI="gamecommand;screen,ScreenOptionsUI;name,UI Options"

MoreX=SCREEN_CENTER_X
MoreY=SCREEN_CENTER_Y-4*WideScreenDiff()

[ScreenEditMenu]
ShowHelp=true

ExplanationX=SCREEN_CENTER_X
ExplanationY=SCREEN_CENTER_Y+134*WideScreenDiff()
ExplanationOnCommand=wrapwidthpixels,900;zoom,0.6*WideScreenDiff();cropright,1;linear,0.5;cropright,0
HelpX=SCREEN_CENTER_X
HelpY=isFinal() and SCREEN_BOTTOM-54*WideScreenDiff() or SCREEN_BOTTOM-51*WideScreenDiff()
HelpOnCommand=draworder,200;zoom,0.6*WideScreenDiff();shadowlength,1.5;diffusealpha,0;sleep,1;linear,0.3;diffusealpha,1

[EditMenu]
Arrows1X=SCREEN_CENTER_X-140*WideScreenDiff()
Arrows2X=SCREEN_CENTER_X+260*WideScreenDiff()
ArrowsEnabledCommand=diffuse,color("1,1,1,1");zoom,WideScreenDiff()
ArrowsDisabledCommand=diffuse,color("0.4,0.4,0.4,1");zoom,WideScreenDiff()

GroupBannerX=SCREEN_CENTER_X+170*WideScreenDiff()
GroupBannerY=SCREEN_CENTER_Y-140*WideScreenDiff()
GroupBannerOnCommand=scaletoclipped,120*WideScreenDiff(),40*WideScreenDiff()

SongBannerX=SCREEN_CENTER_X+170*WideScreenDiff()
SongBannerY=SCREEN_CENTER_Y-90*WideScreenDiff()
SongBannerOnCommand=scaletoclipped,120*WideScreenDiff(),40*WideScreenDiff()

TextBannerType="TextBannerEditMode"
SongTextBannerX=SCREEN_CENTER_X+100*WideScreenDiff()
SongTextBannerY=SCREEN_CENTER_Y-90*WideScreenDiff()

StepsDisplayX=SCREEN_CENTER_X+170*WideScreenDiff()
StepsDisplayY=SCREEN_CENTER_Y-10*WideScreenDiff()
StepsDisplayOn=zoom,WideScreenDiff()
StepsDisplaySourceX=SCREEN_CENTER_X+170*WideScreenDiff()
StepsDisplaySourceY=SCREEN_CENTER_Y+50*WideScreenDiff()

RowLabelX=SCREEN_CENTER_X-240
LabelOnCommand=zoom,0.6

Row1Y=SCREEN_CENTER_Y-140*WideScreenDiff()
Row2Y=SCREEN_CENTER_Y-90*WideScreenDiff()
Row3Y=SCREEN_CENTER_Y-40*WideScreenDiff()
Row4Y=SCREEN_CENTER_Y-10*WideScreenDiff()
Row5Y=SCREEN_CENTER_Y+20*WideScreenDiff()
Row6Y=SCREEN_CENTER_Y+50*WideScreenDiff()
Row7Y=SCREEN_CENTER_Y+80*WideScreenDiff()

Label1X=THEME:GetMetric("EditMenu","RowLabelX")
Label1OnCommand=zoom,0.6*WideScreenDiff();halign,0
Label2X=THEME:GetMetric("EditMenu","RowLabelX")
Label2OnCommand=zoom,0.6*WideScreenDiff();halign,0
Label3X=THEME:GetMetric("EditMenu","RowLabelX")
Label3OnCommand=zoom,0.6*WideScreenDiff();halign,0
Label4X=THEME:GetMetric("EditMenu","RowLabelX")
Label4OnCommand=zoom,0.6*WideScreenDiff();halign,0
Label5X=THEME:GetMetric("EditMenu","RowLabelX")
Label5OnCommand=zoom,0.6*WideScreenDiff();halign,0
Label6X=THEME:GetMetric("EditMenu","RowLabelX")
Label6OnCommand=zoom,0.6*WideScreenDiff();halign,0
Label7X=THEME:GetMetric("EditMenu","RowLabelX")
Label7OnCommand=zoom,0.6*WideScreenDiff();halign,0

Value1X=SCREEN_CENTER_X
Value1OnCommand=zoom,0.6*WideScreenDiff()
Value2X=SCREEN_CENTER_X
Value2OnCommand=zoom,0.6*WideScreenDiff()
Value3X=SCREEN_CENTER_X
Value3OnCommand=zoom,0.6*WideScreenDiff()
Value4X=SCREEN_CENTER_X
Value4OnCommand=zoom,0.6*WideScreenDiff()
Value5X=SCREEN_CENTER_X
Value5OnCommand=zoom,0.6*WideScreenDiff()
Value6X=SCREEN_CENTER_X
Value6OnCommand=zoom,0.6*WideScreenDiff()
Value7X=SCREEN_CENTER_X
Value7OnCommand=zoom,0.6*WideScreenDiff()

[StepsDisplayEdit]
Fallback="StepsDisplay"

[ScreenEdit]
ShowHeader=false

SnapDisplayY=(IsGame("be-mu") or IsGame("beat") or IsGame("po-mu")) and SCREEN_CENTER_Y+((SCREEN_HEIGHT/480)*(360/2)) or SCREEN_CENTER_Y-((SCREEN_HEIGHT/480)*(360/2))

EditHelpX=SCREEN_LEFT+8*WideScreenDiff()
EditHelpY=SCREEN_BOTTOM-8*WideScreenDiff()
#EditHelpOnCommand=halign,0;valign,1;zoom,0.3*WideScreenDiff();shadowlength,1
EditHelpOnCommand=visible,false

InfoX=SCREEN_RIGHT-128*WideScreenDiff()
InfoY=SCREEN_CENTER_Y-222*WideScreenDiff()
InfoOnCommand=halign,0;valign,0;zoom,0.5*WideScreenDiff();shadowlength,1;maxheight,(SCREEN_HEIGHT-34)*2

PlayRecordHelpX=SCREEN_LEFT+40*WideScreenDiff()
PlayRecordHelpY=SCREEN_BOTTOM-40*WideScreenDiff()
PlayRecordHelpOnCommand=halign,0;zoom,0.6*WideScreenDiff();shadowlength,2

[ScreenMiniMenu]
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) local indexOffset = itemIndex-(numItems-1)/2; self:y( (SCREEN_CENTER_Y)+(indexOffset*22)*WideScreenDiff() ); end

[OptionRowMiniMenu]
IconsP1X=SCREEN_CENTER_X-280*WideScreenDiff()
IconsP2X=SCREEN_CENTER_X+280*WideScreenDiff()
IconsOnCommand=x,-30*WideScreenDiff()
FrameX=SCREEN_CENTER_X-232*WideScreenDiff()
TitleX=SCREEN_CENTER_X-150*WideScreenDiff()
TitleOnCommand=halign,0;shadowlength,2;zoom,0.74*WideScreenDiff()

ItemsStartX=SCREEN_CENTER_X-160*WideScreenDiff()
ItemsEndX=SCREEN_CENTER_X+280*WideScreenDiff()
ItemsGapX=14*WideScreenDiff()
ItemsLongRowP1X=SCREEN_CENTER_X-60*WideScreenDiff()
ItemsLongRowP2X=SCREEN_CENTER_X+100*WideScreenDiff()
ItemsLongRowSharedX=SCREEN_CENTER_X+150*WideScreenDiff()
ItemOnCommand=zoom,0.5*WideScreenDiff()

[ScreenMiniMenuContext]
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(24*(offsetFromCenter-(numItems-1)/2)*WideScreenDiff()) end
ScrollBarX=-70*WideScreenDiff()
ScrollBarY=0
LineHighlightX=216*WideScreenDiff()

[OptionRowMiniMenuContext]
TitleX=-54*WideScreenDiff()

[OptionRowMiniMenuEditHelp]
TitleX=SCREEN_CENTER_X-312*WideScreenDiff()
TitleOnCommand=halign,0;strokecolor,color("#222222FF");shadowlength,1;zoom,0.75*WideScreenDiff()

RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	local indexOffset = itemIndex-(numItems-1)/2; \
	self:y(SCREEN_CENTER_Y + indexOffset * 20 * WideScreenDiff()); \
end

ItemsStartX=SCREEN_CENTER_X+260*WideScreenDiff()
ItemsEndX=SCREEN_CENTER_X+260*WideScreenDiff()
ItemsLongRowP1X=SCREEN_CENTER_X+260*WideScreenDiff()
ItemsLongRowP2X=SCREEN_CENTER_X+260*WideScreenDiff()
ItemOnCommand=x,SCREEN_CENTER_X+176;halign,0;strokecolor,color("#222222CC");shadowlength,1;zoom,0.75*WideScreenDiff()

[ScreenPrompt]
ShowHeader=false

QuestionY=SCREEN_CENTER_Y-60*WideScreenDiff()
QuestionOnCommand=zoom,0.7*WideScreenDiff();wrapwidthpixels,600

CursorOnCommand=zoom,WideScreenDiff()

Answer1Of1X=SCREEN_CENTER_X
Answer1Of1Y=SCREEN_CENTER_Y+120*WideScreenDiff()
Answer1Of1OnCommand=maxwidth,100;zoom,WideScreenDiff()
Answer1Of2X=SCREEN_CENTER_X-50*WideScreenDiff()
Answer1Of2Y=SCREEN_CENTER_Y+120*WideScreenDiff()
Answer1Of2OnCommand=maxwidth,100;zoom,WideScreenDiff()
Answer2Of2X=SCREEN_CENTER_X+50*WideScreenDiff()
Answer2Of2Y=SCREEN_CENTER_Y+120*WideScreenDiff()
Answer2Of2OnCommand=maxwidth,100;zoom,WideScreenDiff()
Answer1Of3X=SCREEN_CENTER_X-170*WideScreenDiff()
Answer1Of3Y=SCREEN_CENTER_Y+120*WideScreenDiff()
Answer1Of3OnCommand=maxwidth,100;zoom,WideScreenDiff()
Answer2Of3X=SCREEN_CENTER_X-20*WideScreenDiff()
Answer2Of3Y=SCREEN_CENTER_Y+120*WideScreenDiff()
Answer2Of3OnCommand=maxwidth,100;zoom,WideScreenDiff()
Answer3Of3X=SCREEN_CENTER_X+150*WideScreenDiff()
Answer3Of3Y=SCREEN_CENTER_Y+120*WideScreenDiff()
Answer3Of3OnCommand=maxwidth,100;zoom,WideScreenDiff()

[ScreenStepCache]
Fallback="ScreenWithMenuElements"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"

[ScreenAI]
Fallback="ScreenWithMenuElements"
NextScreen="ScreenOptionsService"
PrevScreen="ScreenOptionsService"
ShowHelp=true

[ScreenJukebox]
ShowStageDisplay=false

[ScreenJukeboxMenu]
PrevScreen=Branch.TitleScreen()

[ScreenRecordsMenu]
Class="ScreenOptionsMaster"
Fallback="ScreenOptionsService"
NextScreen=Branch.TitleScreen()
PrevScreen=Branch.TitleScreen()
AllowOperatorMenuButton=false

LineNames=StepsTypeDouble()[GetUserPrefN("StylePosition")] and (isEtterna() and "1,2,3,4" or "1,2,3,4,5,6,7,8,9,10") or (isEtterna() and "1,3" or "1,3,5,7,9")
Line1="gamecommand;name,RecordsSummarySingle;screen,ScreenSummarySingle"
Line2="gamecommand;name,RecordsSummaryDouble;screen,ScreenSummaryDouble"
Line3="gamecommand;name,RecordsGradesSingle;screen,ScreenGradesSingle"
Line4="gamecommand;name,RecordsGradesDouble;screen,ScreenGradesDouble"
Line5="gamecommand;name,RecordsDanceSingle;screen,ScreenRecordsDanceSingle"
Line6="gamecommand;name,RecordsDanceDouble;screen,ScreenRecordsDanceDouble"
Line7="gamecommand;name,RecordsNonstopSingle;screen,ScreenRecordsMarathonSingle"
Line8="gamecommand;name,RecordsNonstopDouble;screen,ScreenRecordsMarathonDouble"
Line9="gamecommand;name,RecordsCoursesSingle;screen,ScreenRecordsSurvivalSingle"
Line10="gamecommand;name,RecordsCoursesDouble;screen,ScreenRecordsSurvivalDouble"

NumRowsShown=9
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-116*WideScreenDiff()+28*offsetFromCenter*WideScreenDiff()) end

[ScreenRecordSummary]
Fallback="ScreenSelectMaster"
PrevScreen="ScreenRecordsMenu"
TimerSeconds=-1
ChoiceNames="1"
DefaultChoice="1"
Choice1="screen,ScreenRecordsMenu"

ShowHelp=true
HelpY=isFinal() and SCREEN_BOTTOM-54*WideScreenDiff() or SCREEN_BOTTOM-51*WideScreenDiff()

[ScreenSummarySingle]
Fallback="ScreenRecordSummary"

[ScreenSummaryDouble]
Fallback="ScreenRecordSummary"

[ScreenGradesSingle]
Fallback="ScreenRecordSummary"

[ScreenGradesDouble]
Fallback="ScreenRecordSummary"

[ScreenRecordScroller]
Class="ScreenHighScores"
Fallback="ScreenWithMenuElements"
NextScreen="ScreenRecordsMenu"
PrevScreen="ScreenRecordsMenu"
TimerSeconds=-1
ForceTimer=false

HeaderX=
HeaderY=
HeaderOnCommand=
HeaderOffCommand=

LightsMode="LightsMode_MenuStartAndDirections"
ResetGameState=false
BackGoesToStartScreen=false
AttractVolume=false

ManualScrolling=true
MaxItemsToShow=1024

ScrollerOnCommand=CenterX;y,SCREEN_CENTER_Y+64*WideScreenDiff();
ScrollerItemTransformFunction=function(self,offset,itemIndex,numItems) self:y(65*offset*WideScreenDiff()) end
ScrollerItemsToDraw=math.ceil(7/WideScreenDiff())
ScrollerSecondsPerItem=0.15
ScrollerScrolledMessageCommand=finishtweening

ShowHelp=true
HelpY=SCREEN_BOTTOM-18

[ScreenRecordsDanceSingle]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-double,dance-couple,dance-solo"
ChartTypesToHide="dance-double,dance-couple,dance-solo"

HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnChartType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnChartType2=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnChartType3=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnChartType4=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType2=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType3=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType4=StepsTypeSingle()[GetUserPrefN("StylePosition")]

[ScreenRecordsDanceDouble]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-single,dance-couple,dance-solo"
ChartTypesToHide="dance-single,dance-couple,dance-solo"

HighScoresType="HighScoresType_AllSteps"
NumColumns=4
ColumnDifficulty1="Difficulty_Easy"
ColumnDifficulty2="Difficulty_Medium"
ColumnDifficulty3="Difficulty_Hard"
ColumnDifficulty4="Difficulty_Challenge"
ColumnChartType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnChartType2=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnChartType3=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnChartType4=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType2=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType3=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType4=StepsTypeDouble()[GetUserPrefN("StylePosition")]

[ScreenRecordsMarathonSingle]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-double,dance-couple,dance-solo"
ChartTypesToHide="dance-double,dance-couple,dance-solo"

HighScoresType="HighScoresType_NonstopCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnChartType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnChartType2=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType2=StepsTypeSingle()[GetUserPrefN("StylePosition")]

[ScreenRecordsMarathonDouble]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-single,dance-couple,dance-solo"
ChartTypesToHide="dance-single,dance-couple,dance-solo"

HighScoresType="HighScoresType_NonstopCourses"

NumColumns=2
ColumnDifficulty1="Difficulty_Medium"
ColumnDifficulty2="Difficulty_Hard"
ColumnChartType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnChartType2=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType2=StepsTypeDouble()[GetUserPrefN("StylePosition")]

[ScreenRecordsSurvivalSingle]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-double,dance-couple,dance-solo"
ChartTypesToHide="dance-double,dance-couple,dance-solo"

HighScoresType="HighScoresType_SurvivalCourses"

NumColumns=1
ColumnDifficulty1="Difficulty_Medium"
ColumnChartType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeSingle()[GetUserPrefN("StylePosition")]

[ScreenRecordsSurvivalDouble]
Fallback="ScreenRecordScroller"
StepsTypesToHide="dance-single,dance-couple,dance-solo"
ChartTypesToHide="dance-single,dance-couple,dance-solo"

HighScoresType="HighScoresType_SurvivalCourses"

NumColumns=1
ColumnDifficulty1="Difficulty_Medium"
ColumnChartType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]
ColumnStepsType1=StepsTypeDouble()[GetUserPrefN("StylePosition")]

[ScreenEnding]
Fallback="ScreenAttract"
Class="ScreenEnding"
NextScreen="ScreenRankingDanceSingle"
TimerSeconds=69
RemoveCardP1X=SCREEN_CENTER_X-247
RemoveCardP1Y=SCREEN_CENTER_Y+162
RemoveCardP1OnCommand=glowshift;zoom,0.7
RemoveCardP2X=SCREEN_CENTER_X+249
RemoveCardP2Y=SCREEN_CENTER_Y+162
RemoveCardP2OnCommand=glowshift;zoom,0.7

[ScreenEndingPerfect]
Fallback="ScreenEnding"
Class="ScreenEnding"
TimerSeconds=97

[ScreenEndingGood]
Fallback="ScreenEnding"
Class="ScreenEnding"
TimerSeconds=86.5

[ScreenEndingOkay]
Fallback="ScreenEnding"
Class="ScreenEnding"
TimerSeconds=58

[ScreenEndingNormal]
Fallback="ScreenEnding"
Class="ScreenEnding"
TimerSeconds=69

[ScreenWorkoutMenu]
Class="ScreenOptionsMaster"
Fallback="ScreenOptions"
NextScreen=Branch.AfterWorkoutMenu()
PrevScreen="ScreenTitleMenu"

ShowHelp=true
ShowScrollBar=false
ShowStyleIcon=false
MemoryCardIcons=true
PlayMusic=true
TimerSeconds=-1

LineNames="1,2,3,4,5,6"
Line1="lua,OptionsRowWeight()"
Line2="list,GoalType"
Line3="lua,OptionsRowGoalCalories()"
Line4="lua,OptionsRowGoalSeconds()"
Line5="list,SimpleSteps"
Line6="list,SelectType"

NumRowsShown=8
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	if itemIndex >= 1-1 and itemIndex <=3-1 then \
		self:y(SCREEN_CENTER_Y-98*WideScreenDiff()+24*(itemIndex-1+1)*WideScreenDiff()) \
	elseif itemIndex >= 4-1 and itemIndex <=5-1 then \
		self:y(SCREEN_CENTER_Y-98*WideScreenDiff()+24*(itemIndex-2+1)*WideScreenDiff()) \
	elseif itemIndex >= 6-1 then \
		self:y(SCREEN_CENTER_Y+22*WideScreenDiff()+24*(itemIndex-6+1)*WideScreenDiff()) \
	end \
end
Row5X=SCREEN_CENTER_X
SeparateExitRowY=SCREEN_CENTER_Y+46*WideScreenDiff()
MoreY=SCREEN_CENTER_Y+46*WideScreenDiff()

RowOnCommand=%function(self) self:addx(-SCREEN_WIDTH):decelerate(0.3):addx(SCREEN_WIDTH) end
RowOffCommand=%function(self) self:accelerate(0.3):addx(SCREEN_WIDTH) end

MoreOnCommand=%function(self) self:diffusealpha(0):decelerate(0.3):diffusealpha(1) end
MoreOffCommand=%function(self) self:accelerate(0.3):addx(SCREEN_WIDTH) end

ExplanationP1X=SCREEN_CENTER_X-270*WideScreenDiff()
ExplanationP1Y=SCREEN_CENTER_Y+86*WideScreenDiff()
ExplanationP2X=SCREEN_CENTER_X+270*WideScreenDiff()
ExplanationP2Y=SCREEN_CENTER_Y+86*WideScreenDiff()
ExplanationP1OnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,520;vertalign,top;horizalign,left;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_1)
ExplanationP2OnCommand=zoom,0.5*WideScreenDiff();wrapwidthpixels,520;vertalign,top;horizalign,right;cropright,1;linear,0.5;cropright,0;diffuse,PlayerColor(PLAYER_2)

LineHighlightP1OnCommand=visible,false
LineHighlightP1ChangeCommand=
LineHighlightP1ChangeToExitCommand=
LineHighlightP2OnCommand=visible,false
LineHighlightP2ChangeCommand=
LineHighlightP2ChangeToExitCommand=

[ScreenEvaluationWorkout]
Fallback="ScreenEvaluationNormal"

[ScreenEvaluationCourseWorkout]
Fallback="ScreenEvaluationCourse"

[ScreenSMOnlineLogin]
ShowHelp=true
SeparateExitRowY=SCREEN_CENTER_Y+112*WideScreenDiff()

[ScreenNetRoom]
RoomWheelX=SCREEN_CENTER_X-210*WideScreenDiff()-SCREEN_WIDTH
RoomWheelY=SCREEN_CENTER_Y-10*WideScreenDiff()
RoomWheelOnCommand=zoom,WideScreenDiff();decelerate,0.75;x,SCREEN_CENTER_X-210*WideScreenDiff();ztest,true;z,0;draworder,90
RoomWheelOffCommand=accelerate,0.75;addx,-SCREEN_WIDTH

TriangleX=SCREEN_CENTER_X-60*WideScreenDiff()
TriangleY=SCREEN_CENTER_Y-10*WideScreenDiff()

[RoomInfoDisplay]
RoomInfoDisplayOnCommand=diffusealpha,0

[ScreenNetEvaluation]
UsersBGWidth=260
UsersBGHeight=400
UsersBGColor=0.4,0.1,0.4,0.5
UsersBGOnCommand=zoom,0;linear,0.5;zoom,1
UsersBGOffCommand=zoom,1;linear,0.5;zoom,0

User1X=SCREEN_CENTER_X*0.366
User1Y=SCREEN_CENTER_Y

UsersBG1X=SCREEN_CENTER_X*1.633
UsersBG1Y=SCREEN_CENTER_Y

User2X=SCREEN_CENTER_X*1.633
User2Y=SCREEN_CENTER_Y

UsersBG2Y=SCREEN_CENTER_Y
UsersBG2X=SCREEN_CENTER_X*1.633

UserDY=32

UserOnCommand=zoom,0;linear,0.5;zoom,1*WideScreenDiff()
UserOffCommand=zoom,1*WideScreenDiff();linear,0.5;zoom,0
UserDeSelCommand=zoom,1.4*WideScreenDiff();linear,0.1;zoom,1*WideScreenDiff()
UserSelCommand=zoom,1*WideScreenDiff();linear,0.1;zoom,1.4*WideScreenDiff()

[ScreenNetSelectBase]
ChatInputBoxX=SCREEN_CENTER_X+140*WideScreenDiff()+SCREEN_WIDTH
ChatInputBoxY=SCREEN_CENTER_Y+86*WideScreenDiff()
ChatInputBoxOnCommand=zoom,WideScreenDiff();decelerate,0.75;x,SCREEN_CENTER_X+140*WideScreenDiff()
ChatInputBoxOffCommand=linear,0.2;x,SCREEN_CENTER_X+140*WideScreenDiff()+SCREEN_WIDTH
ChatInputBoxWidth=310
ChatInputBoxHeight=60
ChatInputBoxColor=0.5,0.5,1.0,0.7 //transparent cyan

ChatInputX=SCREEN_CENTER_X+SCREEN_WIDTH
ChatInputY=SCREEN_CENTER_Y+69*WideScreenDiff()
ChatTextInputWidth=310/6*11
ChatInputOnCommand=halign,0;valign,0;zoom,0.5*WideScreenDiff();decelerate,0.75;x,SCREEN_CENTER_X;maxheight,72
ChatInputOffCommand=linear,0.2;x,SCREEN_CENTER_X+SCREEN_WIDTH

ChatOutputBoxX=SCREEN_CENTER_X+140*WideScreenDiff()+SCREEN_WIDTH
ChatOutputBoxY=SCREEN_CENTER_Y-54*WideScreenDiff()
ChatOutputBoxOnCommand=zoom,WideScreenDiff();decelerate,0.75;x,SCREEN_CENTER_X+140*WideScreenDiff()
ChatOutputBoxOffCommand=linear,0.2;x,SCREEN_CENTER_X+140*WideScreenDiff()+SCREEN_WIDTH
ChatOutputBoxWidth=310
ChatOutputBoxHeight=210
ChatOutputBoxColor=1.0,0.5,0.5,0.7 //transparent reddish

ChatOutputX=SCREEN_CENTER_X+SCREEN_WIDTH
ChatOutputY=SCREEN_CENTER_Y+42*WideScreenDiff()
ChatTextOutputWidth=310/6*11
ChatOutputLines=11
ChatOutputOnCommand=halign,0;valign,1;zoom,0.5*WideScreenDiff();decelerate,0.75;x,SCREEN_CENTER_X
ChatOutputOffCommand=linear,0.2;x,SCREEN_CENTER_X+SCREEN_WIDTH

UsersX=-SCREEN_WIDTH*999
UsersY=-SCREEN_WIDTH*999

ShowUserList=IsUsingWideScreen()
UserListX=SCREEN_CENTER_X+305*WideScreenDiff()+SCREEN_WIDTH
UserListY=SCREEN_CENTER_Y-140*WideScreenDiff()
UserListOnCommand=zoom,0.5*WideScreenDiff();decelerate,0.75;x,SCREEN_CENTER_X+305*WideScreenDiff()
UserListOffCommand=linear,0.2;x,SCREEN_CENTER_X+305*WideScreenDiff()+SCREEN_WIDTH

[ScreenNetSelectMusic]
ShowStyleIcon=true
ShowStageDisplay=true
ShowHelp=true

HelpBeginCommand=playcommand,"SetHelpText",{ Text = GetScreenSelectMusicHelpText() }
HelpOnCommand=draworder,200;zoom,0.6*WideScreenDiff();shadowlength,1.5;diffusealpha,0;diffuseshift;effectcolor1,color("#FFFFFF");effectcolor2,color("#9A9999");effectperiod,1.5;sleep,1;linear,0.3;diffusealpha,1
HelpSelectMenuOpenedMessageCommand=%function(self) if DifficultyChangingAvailable() then self:linear(0.125):zoomx(0) end end
HelpSelectMenuClosedMessageCommand=%function(self) if DifficultyChangingAvailable() then self:stoptweening():linear(0.125):zoomx(0.6*WideScreenDiff()) end end

MusicWheelX=SCREEN_CENTER_X-210*WideScreenDiff()-SCREEN_WIDTH
MusicWheelY=SCREEN_CENTER_Y-10*WideScreenDiff()
MusicWheelOnCommand=zoom,WideScreenDiff();decelerate,0.75;x,SCREEN_CENTER_X-210*WideScreenDiff();ztest,true;z,0;draworder,90
MusicWheelOffCommand=accelerate,0.75;addx,-SCREEN_WIDTH

BPMDisplayOnCommand=diffusealpha,0
ModIconsP1OnCommand=diffusealpha,0
ModIconsP2OnCommand=diffusealpha,0
OptionsOnCommand=diffusealpha,0
UsersOnCommand=diffusealpha,0
UsersOffCommand=diffusealpha,0

TriangleX=SCREEN_CENTER_X-60*WideScreenDiff()
TriangleY=SCREEN_CENTER_Y-10*WideScreenDiff()

StepsDisplayP1X=SCREEN_CENTER_X-66*WideScreenDiff()
StepsDisplayP1Y=SCREEN_BOTTOM-93*WideScreenDiff()
StepsDisplayP1OnCommand=draworder,101;shadowlength,0;zoom,0;sleep,1.25;bounceend,0.3;zoom,0.8*WideScreenDiff()
StepsDisplayP1OffCommand=bouncebegin,0.2;zoom,0

StepsDisplayP2X=SCREEN_CENTER_X+66*WideScreenDiff()
StepsDisplayP2Y=SCREEN_BOTTOM-93*WideScreenDiff()
StepsDisplayP2OnCommand=draworder,101;shadowlength,0;zoom,0;sleep,1.25;bounceend,0.3;zoom,0.8*WideScreenDiff()
StepsDisplayP2OffCommand=bouncebegin,0.2;zoom,0

ArtistDisplayP1X=SCREEN_CENTER_X+62*GetScreenAspectRatio()
ArtistDisplayP1Y=SCREEN_BOTTOM-50*WideScreenDiff()
ArtistDisplayP1OnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
ArtistDisplayP1OffCommand=accelerate,0.75;addx,SCREEN_WIDTH
ArtistDisplayP2X=SCREEN_LEFT+14*WideScreenDiff()
ArtistDisplayP2Y=SCREEN_BOTTOM-50*WideScreenDiff()
ArtistDisplayP2OnCommand=addx,-SCREEN_WIDTH;decelerate,0.75;addx,SCREEN_WIDTH
ArtistDisplayP2OffCommand=accelerate,0.75;addx,-SCREEN_WIDTH

BPMDisplayP1X=SCREEN_RIGHT-14*WideScreenDiff()
BPMDisplayP1Y=SCREEN_BOTTOM-50*WideScreenDiff()
BPMDisplayP1OnCommand=addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH;
BPMDisplayP1OffCommand=accelerate,0.75;addx,SCREEN_WIDTH
BPMDisplayP2X=SCREEN_CENTER_X-62*GetScreenAspectRatio()
BPMDisplayP2Y=SCREEN_BOTTOM-50*WideScreenDiff()
BPMDisplayP2OnCommand=addx,-SCREEN_WIDTH;decelerate,0.75;addx,SCREEN_WIDTH;
BPMDisplayP2OffCommand=accelerate,0.75;addx,-SCREEN_WIDTH

SongTimeP1X=SCREEN_CENTER_X+162*GetScreenAspectRatio()
SongTimeP1Y=SCREEN_BOTTOM-100*WideScreenDiff()
SongTimeP1OnCommand=zoom,0.50*WideScreenDiff();shadowlength,0;addx,SCREEN_WIDTH;decelerate,0.75;addx,-SCREEN_WIDTH
SongTimeP1OffCommand=accelerate,0.75;addx,SCREEN_WIDTH
SongTimeP2X=SCREEN_CENTER_X-136*GetScreenAspectRatio()
SongTimeP2Y=SCREEN_BOTTOM-100*WideScreenDiff()
SongTimeP2OnCommand=zoom,0.50*WideScreenDiff();shadowlength,0;addx,-SCREEN_WIDTH;decelerate,0.75;addx,SCREEN_WIDTH
SongTimeP2OffCommand=accelerate,0.75;addx,-SCREEN_WIDTH

[ScreenNetSelectMusicFinal]
Fallback="ScreenNetSelectMusic"

[SoundEffectControl_Speed]
SoundProperty=""

[SoundEffectControl_Pitch]
SoundProperty=""

[SoundEffectControl_Both]
SoundProperty=""

[ScreenSelectMusicFinal]
Fallback="ScreenSelectMusic"

[ScreenSelectCourseFinal]
Fallback="ScreenSelectMusicFinal"

# Controls the Dancing characters camera.
[DancingCamera]
# Camera Explanation
# StepMania's Dancing Characters Camera is divided into 3 sections

# Rest - Begins as soon as Gameplay is started. It won't change until the
# First note has been hit/passed.

# Sweep - Part of the camera where it begins to move, and does linear tweens
# Across the area, in a matrix-like style.

# Still - Happens in a Rand ammount, in which if true, goes into a static position
# in a random spot of the area where the characters can (mostly) be visible.

# Distance relative to Z to the position of the characters.
RestDistance=32.0
# Distance relative to Y to the position of the characters.
RestHeight=-11.0

# Here's the moment the sweep animation will begin.
SweepDistance=28.0
# Variable ammount in which the Z position will change
# during said tween.
SweepDistanceVariable=4.0
# Variable ammount in which the Y position will change
# during said tween.
SweepHeightVariable=7.0
# Variable range in which the Y position will tween
# to become the new variable to start from.
SweepPanYRangeDegrees=45.0
SweepPanYVarianceDegrees=60.0
# Height where the Sweep will begin from.
SweepHeight=-11.0

StillDistance=26.0
StillDistanceVariance=3.0
StillPanYRangeDegrees=120.0
StillHeightVariance=5.0
StillHeight=-10.0

# As the name implies, this sets the ammount of beats that the camera will
# stay in its current state until transitioning to the next camera tween.
BeatsUntilNextCamPos=8

# Set the Camera's Field Of View.
CameraFOV=45

# Control the lighting position here.
LightX=-3
LightY=-7.5
LightZ=9

# Control the lighting color here.
AmbientColor=color(".4,.4,.4,1")
AmbientDangerColor=color(".4,.1,.1,1")
AmbientFailedColor=color(".2,.1,.1,1")
# Diffuse color of the scene.
DiffuseColor=color("1,.95,.95,1")
DiffuseDangerColor=color(".8,.1,.1,1")
DiffuseFailedColor=color(".4,.1,.1,1")

[NoteField]
ShowBoard=true
ShowBoardBack=false
ShowBeatBarsP1=IsGame("smx") or IsGame("gh")
ShowBeatBarsP2=IsGame("smx") or IsGame("gh")
BeatBarsVShiftP1=0
BeatBarsVShiftP2=0